!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";t.exports=n(7)},function(t,e,n){t.exports=n.p+"/music/8-Bit-Mayhem.mp3"},function(t,e,n){t.exports=n.p+"/music/80s-Space.mp3"},function(t,e,n){t.exports=n.p+"/music/Automation.mp3"},function(t,e,n){t.exports=n.p+"/music/Cool-Adventure.mp3"},function(t,e,n){t.exports=n.p+"/music/Tap-Till-You-Snap.mp3"},function(t,e,n){t.exports=n.p+"/music/Urban-Future.mp3"},function(t,e,n){"use strict";
/** @license React v16.5.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n(8),r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,u=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,f=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112;r&&Symbol.for("react.placeholder");var y="function"==typeof Symbol&&Symbol.iterator;function b(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=0;o<e;o++)n+="&args[]="+encodeURIComponent(arguments[o+1]);!function(t,e,n,o,r,i,u,a){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,i,u,a],s=0;(t=Error(e.replace(/%s/g,function(){return c[s++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d={};function m(t,e,n){this.props=t,this.context=e,this.refs=d,this.updater=n||g}function v(){}function w(t,e,n){this.props=t,this.context=e,this.refs=d,this.updater=n||g}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&b("85"),this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=m.prototype;var O=w.prototype=new v;O.constructor=w,o(O,m.prototype),O.isPureReactComponent=!0;var _={current:null,currentDispatcher:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var o=void 0,r={},u=null,a=null;if(null!=e)for(o in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(u=""+e.key),e)S.call(e,o)&&!k.hasOwnProperty(o)&&(r[o]=e[o]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var s=Array(c),f=0;f<c;f++)s[f]=arguments[f+2];r.children=s}if(t&&t.defaultProps)for(o in c=t.defaultProps)void 0===r[o]&&(r[o]=c[o]);return{$$typeof:i,type:t,key:u,ref:a,props:r,_owner:_.current}}function j(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var A=/\/+/g,P=[];function E(t,e,n,o){if(P.length){var r=P.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=o,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:o,count:0}}function x(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function R(t,e,n){return null==t?0:function t(e,n,o,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case u:c=!0}}if(c)return o(r,e,""===n?"."+C(e,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){var f=n+C(a=e[s],s);c+=t(a,f,o,r)}else if(f=null===e||"object"!=typeof e?null:"function"==typeof(f=y&&e[y]||e["@@iterator"])?f:null,"function"==typeof f)for(e=f.call(e),s=0;!(a=e.next()).done;)c+=t(a=a.value,f=n+C(a,s++),o,r);else"object"===a&&b("31","[object Object]"==(o=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":o,"");return c}(t,"",e,n)}function C(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function M(t,e){t.func.call(t.context,e,t.count++)}function I(t,e,n){var o=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?q(t,o,n,function(t){return t}):null!=t&&(j(t)&&(t=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n)),o.push(t))}function q(t,e,n,o,r){var i="";null!=n&&(i=(""+n).replace(A,"$&/")+"/"),R(t,I,e=E(e,i,o,r)),x(e)}var L={Children:{map:function(t,e,n){if(null==t)return t;var o=[];return q(t,o,null,e,n),o},forEach:function(t,e,n){if(null==t)return t;R(t,M,e=E(null,null,e,n)),x(e)},count:function(t){return R(t,function(){return null},null)},toArray:function(t){var e=[];return q(t,e,null,function(t){return t}),e},only:function(t){return j(t)||b("143"),t}},createRef:function(){return{current:null}},Component:m,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:l,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,Provider:null,Consumer:null,unstable_read:null}).Provider={$$typeof:f,_context:t},t.Consumer=t,t.unstable_read=function(t,e){var n=_.currentDispatcher;return null===n&&b("277"),n.readContext(t,e)}.bind(null,t),t},forwardRef:function(t){return{$$typeof:p,render:t}},Fragment:a,StrictMode:c,unstable_AsyncMode:h,unstable_Profiler:s,createElement:T,cloneElement:function(t,e,n){(null===t||void 0===t)&&b("267",t);var r=void 0,u=o({},t.props),a=t.key,c=t.ref,s=t._owner;if(null!=e){void 0!==e.ref&&(c=e.ref,s=_.current),void 0!==e.key&&(a=""+e.key);var f=void 0;for(r in t.type&&t.type.defaultProps&&(f=t.type.defaultProps),e)S.call(e,r)&&!k.hasOwnProperty(r)&&(u[r]=void 0===e[r]&&void 0!==f?f[r]:e[r])}if(1===(r=arguments.length-2))u.children=n;else if(1<r){f=Array(r);for(var l=0;l<r;l++)f[l]=arguments[l+2];u.children=f}return{$$typeof:i,type:t.type,key:a,ref:c,props:u,_owner:s}},createFactory:function(t){var e=T.bind(null,t);return e.type=t,e},isValidElement:j,version:"16.5.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:_,assign:o}},D={default:L},Z=D&&L||D;t.exports=Z.default||Z},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var s in n=Object(arguments[c]))r.call(n,s)&&(a[s]=n[s]);if(o){u=o(n);for(var f=0;f<u.length;f++)i.call(n,u[f])&&(a[u[f]]=n[u[f]])}}return a}},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o);function i(t){return t.position.x>Co+t.radius||t.position.x<0-t.radius||t.position.y>Mo+t.radius||t.position.y<0-t.radius}function u(t,e){var n=e.position.x-t.position.x,o=e.position.y-t.position.y;return Math.sqrt(n*n+o*o)}function a(t,e){return Math.atan2(Math.sin(t-e),Math.cos(t-e))}function c(t,e,n){return a(t,e)<=n/2&&a(t,e)>=-n/2}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.particles=[]}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(t,[{key:"addParticle",value:function(t){this.particles.push(t)}},{key:"update",value:function(){var t=this;this.particles=this.particles.map(function(e){return e.draw(),e.update(),t.collisionDetection(e),i(e)&&e.removeParticle(),e}).filter(function(t){return!t.remove&&!i(t)})}},{key:"collisionDetection",value:function(t){Zo.drones.map(function(e){if(function(t,e){return!(t.squadId===e.squadId)&&u(t,e)<t.radius+e.radius}(t,e)){var n=e.health.currentHealth;e.health.takeDamage(t.damage),-1!==t.id&&(n>0&&e.health.currentHealth<=0&&t.tallyKill(e),t.tallyDamage(t.damage),t.removeParticle())}})}}]),t}();function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=e,this._y=n}return function(t,e,n){e&&l(t.prototype,e),n&&l(t,n)}(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}}]),t}();function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._position=new h(e,n)}return function(t,e,n){e&&p(t.prototype,e),n&&p(t,n)}(t,[{key:"setAngle",value:function(t){var e=this.getLength();this._position.x=Math.cos(t)*e,this._position.y=Math.sin(t)*e}},{key:"getAngle",value:function(){return Math.atan2(this._position.y,this._position.x)}},{key:"setLength",value:function(t){var e=this.getAngle();this._position.x=Math.cos(e)*t,this._position.y=Math.sin(e)*t}},{key:"getLength",value:function(){return Math.sqrt(this._position.x*this._position.x+this._position.y*this._position.y)}},{key:"add",value:function(e){return new t(this._position.x+e.x,this._position.y+e.y)}},{key:"subtract",value:function(e){return new t(this._position.x-e.x,this._position.y-e.y)}},{key:"multiply",value:function(e){return new t(this._position.x*e,this._position.y*e)}},{key:"divide",value:function(e){return new t(this._position.x/e,this._position.y/e)}},{key:"addTo",value:function(t){this._position.x+=t.x,this._position.y+=t.y}},{key:"subtractFrom",value:function(t){this._position.x-=t.x,this._position.y-=t.y}},{key:"multiplyBy",value:function(t){this._position.x*=t,this._position.y*=t}},{key:"divideBy",value:function(t){this._position.x/=t,this._position.y/=t}},{key:"angleTo",value:function(t){Math.atan2(t.y-this.y,t.x-this.x)}},{key:"x",get:function(){return this._position.x},set:function(t){this._position.x=t}},{key:"y",get:function(){return this._position.y},set:function(t){this._position.y=t}},{key:"point",get:function(){return this._position},set:function(t){this._position=t}}]),t}();function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startTime=Date.now(),this.lastTime=Date.now(),this.currentTime=Date.now(),this.deltaTime=0}return function(t,e,n){e&&b(t.prototype,e),n&&b(t,n)}(t,[{key:"update",value:function(){this.currentTime=Date.now(),this.deltaTime=this.currentTime-this.lastTime,this.lastTime=this.currentTime}},{key:"getTime",value:function(){return this.deltaTime/100}},{key:"getOffsetTime",value:function(t){return this.deltaTime/100+t}},{key:"getElapsedTime",value:function(){return(this.currentTime-this.startTime)/100}},{key:"getOffsetElapsedTime",value:function(t){return(this.currentTime-this.startTime)/100+t}}]),t}());function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var m=function(){function t(e,n,o,r,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e,this.radius=i,this.position=new y(n,o),this.velocity=new y(0,0),this.velocity.setLength(r),this.velocity.setAngle(u),this._remove=!1,this._colour=Po.white,this._gridX=Math.floor(this.position.x/Lo.gridBlockSize),this._gridY=Math.floor(this.position.y/Lo.gridBlockSize)}return function(t,e,n){e&&d(t.prototype,e),n&&d(t,n)}(t,[{key:"update",value:function(){this.move()}},{key:"move",value:function(){var t=this.velocity.multiply(g.getTime());this.velocity.multiply(xo),Lo.removeParticle(this),this.position.addTo(t),Lo.addParticle(this)}},{key:"removeParticle",value:function(){this._remove=!0,Lo.removeParticle(this)}},{key:"draw",value:function(){Ro.beginPath(),Ro.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),Ro.fillStyle=this._colour,Ro.fill(),Ro.strokeStyle=this._colour,Ro.stroke()}},{key:"gridY",get:function(){return this._gridY},set:function(t){this._gridY=t}},{key:"gridX",get:function(){return this._gridX},set:function(t){this._gridX=t}},{key:"remove",get:function(){return this._remove}},{key:"id",get:function(){return this._id}},{key:"colour",get:function(){return this._colour}}]),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function O(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k=function(t){function e(t,n,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=O(this,_(e).call(this,t,n,o,0,48,0)))._sprite="data:image/png;base64,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",r._explosionImage=new Image,r._explosionImage.src=r._sprite,r._frame=0,r._damage=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,m),function(t,e,n){e&&w(t.prototype,e),n&&w(t,n)}(e,[{key:"update",value:function(){this._frame++,this._frame>8&&(this._remove=!0)}},{key:"draw",value:function(){Ro.translate(this.position.x-24,this.position.y-24),Ro.drawImage(this._explosionImage,48*this._frame,0,48,48,0,0,48,48),Ro.resetTransform()}},{key:"damage",get:function(){return this._damage}}]),e}();function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._drones=[]}return function(t,e,n){e&&T(t.prototype,e),n&&T(t,n)}(t,[{key:"addDrone",value:function(t){this._drones.push(t)}},{key:"update",value:function(){this._drones=function(t){for(var e=[],n=t;0!==n.length;){var o=Math.floor(n.length*Math.random());e.push(n[o]),n.splice(o,1)}return e}(this._drones),this._drones=this._drones.map(function(t){if(t.draw(),t.update(),function(t){t.position.x>Co&&(t.position.x=0),t.position.x<0&&(t.position.x=Co),t.position.y>Mo&&(t.position.y=0),t.position.y<0&&(t.position.y=Mo)}(t),t.health.currentHealth<=0){var e=new k(-1,t.position.x,t.position.y);zo.addParticle(e),t.removeParticle()}return t}).filter(function(t){return t.health.currentHealth>0})}},{key:"drones",get:function(){return this._drones}}]),t}();function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var P=function(){function t(e,n,o,r,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=e,this._y=n,this._width=o,this._height=r,this._fill=i,this._stroke=u,this._percentage=100}return function(t,e,n){e&&A(t.prototype,e),n&&A(t,n)}(t,[{key:"setPercentage",value:function(t,e){this._percentage=t/e*100}},{key:"draw",value:function(){Ro.translate(this._x-this._width/2,this._y),this.drawStroke(),this.drawFill(),Ro.resetTransform()}},{key:"drawFill",value:function(){this.drawPercentBox(this._percentage),Ro.fillStyle=this._fill,Ro.fill()}},{key:"drawStroke",value:function(){this.drawPercentBox(),Ro.strokeStyle=this._stroke,Ro.stroke()}},{key:"drawPercentBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;Ro.beginPath(),Ro.moveTo(0,0),Ro.lineTo(this._width*t/100,0),Ro.lineTo(this._width*t/100,this._height),Ro.lineTo(0,this._height),Ro.lineTo(0,0)}}]),t}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var q=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=R(this,M(e).call(this,0,16,16,4,Po.green,Po.white)))._health=t,n._currentHealth=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,P),function(t,e,n){e&&x(t.prototype,e),n&&x(t,n)}(e,[{key:"takeDamage",value:function(t){this._currentHealth-=t}},{key:"repairDamage",value:function(t){this._currentHealth+t<this._health?this._currentHealth+=t:this._currentHealth=this._health}},{key:"draw",value:function(t){Ro.translate(t.position.x,t.position.y),this.setPercentage(this._currentHealth,this._health),this._fill=this._currentHealth<=20?Po.red:Po.green,C(M(e.prototype),"draw",this).call(this)}},{key:"health",get:function(){return this._health}},{key:"currentHealth",get:function(){return this._currentHealth}}]),e}(),L=new Image,D=new Image;L.src="data:image/gif;base64,R0lGODdhGQAaAFcAACH5BAkKAAAALAAAAAAZABoAwgAAAAJIawJL2QJy7//+F8CHRwNnmgEmYQOOCLrc/k0MUaoUUAk5jvdCIHzeMGGMaWaKOrBMiMLLNhiEIePG6XAeR8BRmtBkNMiJYEvWVDIojGOoFGTWnjEmIdVEC5IP4HKSVcmh+YFcp6LuloBAuL7Mts31MmPZelGAfT8SOHUydAWCbF0HVToijyUbESZeBzIHAGJbAEBBX30fJihAZgekC2U0q3EPCQA7",D.src="data:image/gif;base64,R0lGODdhGQAaAFcAACH5BAkKAAAALAAAAAAZABoAwgAAAFsbI4cmHcYhHf///3282ZwsWQAAAAORCLrc/k0MUaoUUAk5gjeBEAagN0wYc56Zsg4tI6bxsg0GYcy5gTocjyMwDJxomVkNgiLclrbVTBrjGCqFGdY3iUg8Qk1oATZuXCso4LUkqh/Kt2yGVE8IhCxMfdtkL3UQNz5ThIFzOHhZIYqGcF8kBTshVyU/MidlACMim2BHUR1hYkifXQBBakana2k1bHIZCQA7";var Z={blue:L,red:D};function z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var H=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.thrust=e,this.roaming={callback:null,count:0}}return function(t,e,n){e&&z(t.prototype,e),n&&z(t,n)}(t,[{key:"setPower",value:function(t){switch(this.drone=t,this.power=1,!0){case this.targetIsCloseBehind(t)||this.hasThreats(t):this.startThrusting(1);break;case this.targetIsTooClose(t):this.stopThrusting();break;case t.scanner.hasTarget()&&c(t.angle,t.scanner.angleToTarget(),.2):this.power=this.getPowerFromDistance(t),this.startThrusting(this.power);break;case t.scanner.hasTarget()&&c(t.angle,t.scanner.angleToTarget(),.3):this.power=.8*this.getPowerFromDistance(t),this.startThrusting();break;case t.scanner.hasTarget()&&c(t.angle,t.scanner.angleToTarget(),.6):this.power=.4,this.startThrusting();break;default:this.roaming.count<=0&&(this.roaming.count=25*Math.random()+5,this.roaming.callback=Math.random()>.4?this.startThrusting.bind(this):this.stopThrusting.bind(this)),this.power=.5,this.roaming.callback(),this.roaming.count--}}},{key:"startThrusting",value:function(){this.drone.velocity.setLength(this.thrust*this.power)}},{key:"stopThrusting",value:function(){this.power=0}},{key:"isThrusting",value:function(){return this.power>0}},{key:"draw",value:function(t){this.isThrusting()&&(Ro.translate(t.position.x,t.position.y),Ro.rotate(t.vector.getAngle()),Ro.beginPath(),Ro.moveTo(-0,-2),Ro.lineTo(-8,Math.floor(2*Math.random())-3),Ro.lineTo(-6,-1),Ro.lineTo(-10,Math.floor(3*Math.random())-1),Ro.lineTo(-6,1),Ro.lineTo(-8,Math.floor(2*Math.random())+2),Ro.lineTo(-4,2),Ro.strokeWidth=.5,Ro.strokeStyle=Po.orange,Ro.stroke(),Ro.fillStyle=Po.red,Ro.fill(),Ro.resetTransform())}},{key:"targetIsCloseBehind",value:function(){return this.drone.scanner.hasTarget()&&u(this.drone,this.drone.scanner.target)<400&&this.targetIsBehind(this.drone)}},{key:"targetIsTooClose",value:function(){return this.drone.scanner.hasTarget()&&u(this.drone,this.drone.scanner.target)<30&&c(this.drone,.6)}},{key:"getPowerFromDistance",value:function(t){switch(!0){case u(t,t.scanner.target)>800:return this.targetIsAhead(t)?1:0;case u(t,t.scanner.target)>600:return this.targetIsAhead(t)?.8:.2;case u(t,t.scanner.target)>300:return this.targetIsAhead(t)?.6:.4;case u(t,t.scanner.target)>200:return this.targetIsAhead(t)?.4:.6;case u(t,t.scanner.target)>100:return this.targetIsAhead(t)?.2:.8;default:return this.targetIsAhead(t)?.1:.9}}},{key:"targetIsAhead",value:function(t){return c(t,Math.PI/2)}},{key:"targetIsBehind",value:function(t){return!c(t,Math.PI/2)}},{key:"hasThreats",value:function(t){return t.scanner.threats>0}}]),t}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),K(this,Q(e).call(this,20))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,H),e}();function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,F(e).call(this,18))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(e,H),e}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var et=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),W(this,$(e).call(this,15))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(e,H),e}();function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ut=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ot(this,rt(e).call(this,12))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,H),e}();function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ct(this,st(e).call(this,10))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,H),e}();function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var pt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.turningSpeed=e,this.turnAmount=0,this.roaming={callback:null,count:0},this.evading={callback:null,count:0},this.dodging={callback:null,count:0}}return function(t,e,n){e&&ht(t.prototype,e),n&&ht(t,n)}(t,[{key:"turn",value:function(t){this.drone=t;var e=a(t.angle,t.scanner.angleToTarget());switch(!0){case this.hasTargetCloseBehind(t):this.evade();break;case this.hasThreats(t):this.dodge();break;case this.hasNoTarget(t):this.roam();break;case e>=.6:this.turnAmount=.1*this.turningSpeed,this.turnLeft();break;case e>=.4:this.turnAmount=.066*this.turningSpeed,this.turnLeft();break;case e>=.2:this.turnAmount=.033*this.turningSpeed,this.turnLeft();break;case e>0:this.turnLeft(e);break;case e<=-.6:this.turnAmount=.1*this.turningSpeed,this.turnRight();break;case e<=-.4:this.turnAmount=.066*this.turningSpeed,this.turnRight();break;case e<=-.2:this.turnAmount=.033*this.turningSpeed,this.turnRight();break;case e<0:this.turnRight(e)}}},{key:"hasTargetCloseBehind",value:function(t){return t.scanner.hasTarget()&&u(t,t.scanner.target)<200&&!c(t,Math.PI/2)}},{key:"hasThreats",value:function(t){return t.scanner.threats>0}},{key:"hasNoTarget",value:function(t){return!t.scanner.hasTarget()}},{key:"turnLeft",value:function(){this.incrementAngle(-this.turnAmount)}},{key:"turnRight",value:function(){this.incrementAngle(this.turnAmount)}},{key:"incrementAngle",value:function(t){this.drone.angle+=t}},{key:"roam",value:function(){this.roaming.count>0?(this.turnAmount=.033*this.turningSpeed,this.roaming.callback(),this.roaming.count--):(this.roaming.count=Math.floor(60*Math.random()+20),this.roaming.callback=Math.random()>.5?this.turnRight.bind(this):this.turnLeft.bind(this))}},{key:"evade",value:function(){this.evading.count>0?(this.turnAmount=.1*this.turningSpeed,this.evading.callback(),this.evading.count--):(this.evading.count=Math.floor(35*Math.random()+15),this.evading.callback=Math.random()>.5?this.turnRight.bind(this):this.turnLeft.bind(this))}},{key:"dodge",value:function(){this.dodging.count>0?(this.turnAmount=.06*this.turningSpeed,this.dodging.callback(),this.dodging.count--):(this.dodging.count=Math.floor(10*Math.random()+5),this.dodging.callback=Math.random()>.5?this.turnRight.bind(this):this.turnLeft.bind(this))}}]),t}();function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){return!e||"object"!==yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),bt(this,gt(e).call(this,1.5))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,pt),e}();function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var St=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),wt(this,Ot(e).call(this,1.2))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(e,pt),e}();function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Tt(this,jt(e).call(this,1))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(e,pt),e}();function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),xt(this,Rt(e).call(this,.8))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(e,pt),e}();function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qt(this,Lt(e).call(this,.6))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(e,pt),e}();function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ht(this,Gt(e).call(this,.4))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(e,pt),e}();function Bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Vt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vector=new y(0,0),this.vector.setAngle(0),this.vector.setLength(5),this.rotation="right",this._angleLimit=e,this.turningSpeed=n,this.lead=.2}return function(t,e,n){e&&Bt(t.prototype,e),n&&Bt(t,n)}(t,[{key:"trackTarget",value:function(t){if(t.scanner.hasTarget())switch(!0){case a(t.angle+this.vector.getAngle(),t.scanner.angleToTarget())>.05:this.rotation="left";break;case a(t.angle+this.vector.getAngle(),t.scanner.angleToTarget())<-.05:this.rotation="right";break;default:return}this.turn()}},{key:"turn",value:function(){switch(!0){case"right"===this.rotation&&this.vector.getAngle()<this._angleLimit:this.vector.setAngle(this.vector.getAngle()+this.turningSpeed);break;case"left"===this.rotation&&this.vector.getAngle()>-this._angleLimit:this.vector.setAngle(this.vector.getAngle()-this.turningSpeed);break;case"right"===this.rotation&&this.vector.getAngle()>this._angleLimit:this.rotation="left";break;case"left"===this.rotation&&this.vector.getAngle()<-this._angleLimit:this.rotation="right"}}},{key:"angleLimit",get:function(){return this._angleLimit}}]),t}();function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ut=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,Ft(e).call(this,.175*180,.175))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(e,Vt),e}();function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){return!e||"object"!==Yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ee=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Wt(this,$t(e).call(this,.175*12,.16))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}(e,Vt),e}();function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t,e){return!e||"object"!==ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ue=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oe(this,re(e).call(this,1.575,.15))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(e,Vt),e}();function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var le=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ce(this,se(e).call(this,.175*6,.15))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(e,Vt),e}();function he(t){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pe(t,e){return!e||"object"!==he(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ge=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),pe(this,ye(e).call(this,.7875,.14))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}(e,Vt),e}();function de(t){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){return!e||"object"!==de(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Oe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),me(this,ve(e).call(this,.175*3,.12))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(e,Vt),e}();function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t,e){return!e||"object"!==_e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ke(t){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var je=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Se(this,ke(e).call(this,.35,.1))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(e,Vt),e}();function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ee(t,e){return!e||"object"!==Ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Re(t,e){return(Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ce=function(t){function e(t,n,o,r,i,u,a,c){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=Ee(this,xe(e).call(this,t.id,n,o,r,i,u)))._drone=t,s._damage=c,s.velocity.addTo(a),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}(e,m),function(t,e,n){e&&Pe(t.prototype,e),n&&Pe(t,n)}(e,[{key:"tallyKill",value:function(t){this._drone.updateKills(t)}},{key:"tallyDamage",value:function(t){this._drone.updateDamage(t)}},{key:"squadId",get:function(){return this._drone.squadId}},{key:"damage",get:function(){return this._damage}}]),e}();function Me(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ie=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.radius=e,this._target=null,this._drone=null,this._threats=0}return function(t,e,n){e&&Me(t.prototype,e),n&&Me(t,n)}(t,[{key:"hasTarget",value:function(){return null!==this._target}},{key:"scanArea",value:function(t){this._threats=0,this._drone=t,this._target=null,this.nearestTarget={target:null,distance:null},this.gridRange=Lo.findGridRange(t,this.radius),this.scanGridRange(t,this.nearestTarget),this.selectTargetIfValid()}},{key:"scanGridRange",value:function(){for(var t=this,e=this.gridRange.start[0];e<this.gridRange.end[0];e++)for(var n=this.gridRange.start[1];n<this.gridRange.end[1];n++)Lo.grid[e][n].map(function(e){t.detectThreats(e),t.findNearestDrone(e)})}},{key:"detectThreats",value:function(t){var e=a(t.angle,this.angleToParticle(t));t instanceof Ce&&t.squadId!==this._drone.squadId&&this.distanceToParticle(t)<300&&(e<=.15||e>=-.15)&&this._threats++}},{key:"selectTargetIfValid",value:function(){null!==this.nearestTarget.target&&this.nearestTarget.distance<=this.radius&&this.nearestTarget.target.health.currentHealth>0?this._target=this.nearestTarget.target:this._target=null}},{key:"findNearestDrone",value:function(t){if(t instanceof wo&&t.squadId!==this._drone.squadId){var e=this.distanceToParticle(t);(null===this.nearestTarget.distance||e<this.nearestTarget.distance)&&(this.nearestTarget.target=t,this.nearestTarget.distance=e)}}},{key:"angleToTarget",value:function(){return this.hasTarget()?this.angleToParticle(this._target):0}},{key:"angleToParticle",value:function(t){return Math.atan2(t.position.y-this._drone.position.y,t.position.x-this._drone.position.x)}},{key:"distanceToParticle",value:function(t){var e=t.position.x-this._drone.position.x,n=t.position.y-this._drone.position.y;return Math.sqrt(e*e+n*n)}},{key:"draw",value:function(t){this.hasTarget()&&(Ro.translate(this.target.position.x,this.target.position.y),Ro.beginPath(),Ro.moveTo(-5,-5),Ro.lineTo(5,5),Ro.moveTo(5,-5),Ro.lineTo(-5,5),Ro.strokeStyle=t.colour,Ro.strokeWidth=5,Ro.stroke(),Ro.resetTransform(),this.drawScannerPath(t)),this.drawScannerRadius(t)}},{key:"drawScannerPath",value:function(t){Io.scannerPathToggle&&(Ro.setLineDash([1,5]),Ro.beginPath(),Ro.moveTo(t.position.x,t.position.y),Ro.lineTo(this.target.position.x,this.target.position.y),Ro.strokeStyle=Po.white,Ro.stroke(),Ro.setLineDash([0]))}},{key:"drawScannerRadius",value:function(t){Io.scannerRadiusToggle&&(Ro.setLineDash([1,5]),Ro.beginPath(),Ro.arc(t.position.x,t.position.y,this.radius,0,2*Math.PI),Ro.strokeStyle=Po.white,Ro.stroke(),Ro.setLineDash([0]))}},{key:"threats",get:function(){return this._threats}},{key:"target",get:function(){return this._target}}]),t}();function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Le(t,e){return!e||"object"!==qe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ze=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Le(this,De(e).call(this,900))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ze(t,e)}(e,Ie),e}();function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t,e){return!e||"object"!==He(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qe(t,e){return(Qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Be=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ge(this,Ke(e).call(this,800))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qe(t,e)}(e,Ie),e}();function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){return!e||"object"!==Ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ne=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Je(this,Xe(e).call(this,700))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(e,Ie),e}();function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){return!e||"object"!==Ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ye(this,We(e).call(this,600))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(e,Ie),e}();function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){return!e||"object"!==en(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rn(t,e){return(rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var un=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),nn(this,on(e).call(this,500))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}(e,Ie),e}();function an(t){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t,e){return!e||"object"!==an(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sn(t){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fn(t,e){return(fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ln=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),cn(this,sn(e).call(this,400))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fn(t,e)}(e,Ie),e}();function hn(t){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){return!e||"object"!==hn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bn(t,e){return(bn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),pn(this,yn(e).call(this,300))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bn(t,e)}(e,Ie),e}();function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mn(t,e){return!e||"object"!==dn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vn(t){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wn(t,e){return(wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var On={G40:je,G60:Oe,G90:ge,G120:le,G180:ue,G240:ee,G360:Ut},_n={SC200:function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mn(this,vn(e).call(this,200))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wn(t,e)}(e,Ie),e}(),SC300:gn,SC400:ln,SC500:un,SC600:tn,SC700:Ne,SC800:Be,SC900:ze},Sn={S4:Qt,S6:Zt,S8:Mt,S10:Pt,S12:St,S15:mt},kn={T10:lt,T12:ut,T15:et,T18:U,T20:V};function Tn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var jn=function(){function t(e,n,o,r,i,u,a,c,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.drone=e,this.id=e.id,this.squadId=e.squadId,this.colour=o,this.position=new y(r,i),this.velocity=0,this.fireRate=s,this.lastFired=0,this.gimbal=new a,this.round=c,this._name=n}return function(t,e,n){e&&Tn(t.prototype,e),n&&Tn(t,n)}(t,[{key:"draw",value:function(){Ro.translate(this.position.x,this.position.y),Ro.rotate(this.gimbal.vector.getAngle()+this.droneAngle),Ro.beginPath(),Ro.lineTo(10,-2),Ro.lineTo(10,2),Ro.lineTo(0,2),Ro.lineTo(0,-2),Ro.strokeStyle=this.colour,Ro.stroke(),Ro.fillStyle=this.colour,Ro.fill(),Ro.resetTransform()}},{key:"update",value:function(t){this.position.x=t.position.x,this.position.y=t.position.y,this.velocity=t.velocity,this.droneAngle=t.vector.getAngle(),this.gimbal.trackTarget(t);var e=a(t.angle,t.scanner.angleToTarget());t.scanner.hasTarget()&&e<=this.gimbal.angleLimit&&e>=-this.gimbal.angleLimit&&this.fireIfReady()}},{key:"fireIfReady",value:function(){g.getElapsedTime()-this.lastFired>this.fireRate&&(this.fire(),this.lastFired=g.getElapsedTime())}},{key:"fire",value:function(){zo.addParticle(new this.round(this.drone,this.position.x,this.position.y,this.gimbal.vector.getAngle()+this.droneAngle,this.velocity))}},{key:"applyFill",value:function(){Ro.fillStyle=this.colour,Ro.fill()}},{key:"applyStroke",value:function(){Ro.strokeStyle=this.colour,Ro.stroke()}},{key:"name",get:function(){return this._name}}]),t}();function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){return!e||"object"!==An(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function En(t){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rn=function(t){function e(t,n,o,r,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=Pn(this,En(e).call(this,t,n,o,45,1,r,i,3)))._colour=Po.orange,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(e,Ce),e}();function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function In(t,e){return!e||"object"!==Cn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qn(t){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ln(t,e){return(Ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dn=function(t){function e(t,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=Rn;return In(this,qn(e).call(this,t,"Uzi","#8aa",n,o,r,i,u,2))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ln(t,e)}(e,jn),function(t,e,n){e&&Mn(t.prototype,e),n&&Mn(t,n)}(e,[{key:"draw",value:function(){Ro.translate(this.position.x,this.position.y),Ro.rotate(this.gimbal.vector.getAngle()+this.droneAngle),Ro.beginPath(),Ro.lineTo(6,-1),Ro.lineTo(6,1),Ro.lineTo(0,1),Ro.lineTo(0,-1),this.applyStroke(),this.applyFill(),Ro.resetTransform()}}]),e}();function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zn(t,e){return!e||"object"!==Zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gn(t,e){return(Gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kn=function(t){function e(t,n,o,r,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zn(this,Hn(e).call(this,t,n,o,38,.5,r,i,1))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gn(t,e)}(e,Ce),e}();function Qn(t){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Vn(t,e){return!e||"object"!==Qn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jn(t){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fn=function(t){function e(t,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=Kn;return Vn(this,Jn(e).call(this,t,"Shotgun","#664",n,o,r,i,u,7))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(e,jn),function(t,e,n){e&&Bn(t.prototype,e),n&&Bn(t,n)}(e,[{key:"draw",value:function(){Ro.translate(this.position.x,this.position.y),Ro.rotate(this.gimbal.vector.getAngle()+this.droneAngle),Ro.beginPath(),Ro.lineTo(8,-2),Ro.lineTo(8,2),Ro.lineTo(0,2),Ro.lineTo(0,-2),this.applyStroke(),this.applyFill(),Ro.resetTransform()}},{key:"fire",value:function(){for(var t=0;t<12;t++){var e=.08*Math.random()-.04;zo.addParticle(new this.round(this.drone,this.position.x,this.position.y,this.gimbal.vector.getAngle()+this.droneAngle+e,this.velocity))}}}]),e}();function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){return!e||"object"!==Nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yn(t){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $n=function(t){function e(t,n,o,r,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=Un(this,Yn(e).call(this,t,n,o,50,2,r,i,18)))._colour=Po.green,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(e,Ce),e}();function to(t){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function no(t,e){return!e||"object"!==to(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oo(t){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ro(t,e){return(ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var io={Uzi:Dn,Shotgun:Fn,Rifle:function(t){function e(t,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=$n;return no(this,oo(e).call(this,t,"Rifle","#577",n,o,r,i,u,10))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ro(t,e)}(e,jn),function(t,e,n){e&&eo(t.prototype,e),n&&eo(t,n)}(e,[{key:"draw",value:function(){Ro.translate(this.position.x,this.position.y),Ro.rotate(this.gimbal.vector.getAngle()+this.droneAngle),Ro.beginPath(),Ro.lineTo(10,-2),Ro.lineTo(10,2),Ro.lineTo(0,2),Ro.lineTo(0,-2),this.applyStroke(),this.applyFill(),Ro.resetTransform()}}]),e}()};function uo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ao=function(){function t(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.colour=o,this.align=r,this.size=i,this.lines=[]}return function(t,e,n){e&&uo(t.prototype,e),n&&uo(t,n)}(t,[{key:"addLine",value:function(t){this.lines.push(t)}},{key:"textStyle",value:function(){Ro.textAlign=this.align,Ro.font=this.size+"px Verdana",Ro.fillStyle=Po[this.colour]}},{key:"draw",value:function(){var t=this;this.textStyle(),this.lines.map(function(e,n){Ro.fillText(e,t.x,t.y+(n+1)*(1.2*t.size))})}}]),t}();function co(t){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function so(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fo(t,e){return!e||"object"!==co(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lo(t){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ho(t,e){return(ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var po=function(t){function e(t,n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fo(this,lo(e).call(this,t,n+25,o,"left",10))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ho(t,e)}(e,ao),function(t,e,n){e&&so(t.prototype,e),n&&so(t,n)}(e,[{key:"draw",value:function(){var t=this;this.textStyle(),this.lines.map(function(e,n){Ro.fillText(e,25,10*(n+1-t.lines.length/2))})}}]),e}();function yo(t){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mo(t,e){return(mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var wo=function(t){function e(t,n,o,r,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=function(t,e){return!e||"object"!==yo(e)&&"function"!=typeof e?vo(t):e}(this,go(e).call(this,t.id,o,r,0,13,i)))._squadId=n.id,u._colour=n.colour,u.name=t.name,u.vector=new y(0,1),u.vector.setAngle(i),u.weapon=new io[t.weapon](vo(vo(u)),o,r,i,On[t.gimbal]),u.scanner=new _n[t.scanner],u.thruster=new kn[t.thruster],u.steering=new Sn[t.steering],u.health=new q(100),u._damage=0,u._kills=0,u._killed=[],u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)}(e,m),function(t,e,n){e&&bo(t.prototype,e),n&&bo(t,n)}(e,[{key:"updateDamage",value:function(t){this._damage+=t}},{key:"updateKills",value:function(t){this._kills++,this._killed.push(t)}},{key:"update",value:function(){this.scanner.scanArea(this),this.thruster.setPower(this),this.steering.turn(this),this.thruster.isThrusting()&&this.velocity.setAngle(this.vector.getAngle()),this.move(),this.weapon.update(this)}},{key:"draw",value:function(){this.weapon.draw(),this.thruster.draw(this),Ro.translate(this.position.x,this.position.y),this.drawName(),this.drawData(),this.drawSprite(),Ro.resetTransform(),this.health.draw(this),this.scanner.draw(this)}},{key:"drawSprite",value:function(){Ro.rotate(this.vector.getAngle()+Math.PI/180*90),Ro.translate(-12.5,-14),Ro.drawImage(Z[this._colour],0,0)}},{key:"drawDrone",value:function(){Ro.beginPath(),Ro.moveTo(10,0),Ro.lineTo(-10,-7),Ro.lineTo(-10,7),Ro.lineTo(10,0),Ro.strokeStyle=this._colour,Ro.stroke(),Ro.fillStyle=this._colour,Ro.fill()}},{key:"drawName",value:function(){Io.droneNameToggle&&(Ro.font="11px Verdana",Ro.textAlign="center",Ro.fillStyle=Po[this._colour],Ro.fillText(this.name,0,-18))}},{key:"drawData",value:function(){if(Io.droneDataToggle){var t="Position: (".concat(Math.round(this.position.x),", ").concat(Math.round(this.position.y),")"),e="Grid: (".concat(this.gridX,", ").concat(this.gridY,")"),n=new po(0,0,this.colour);n.addLine("ID: "+this.id),n.addLine("SquadID: "+this.squadId),n.addLine("Weapon: "+this.weapon.name),n.addLine("Health: "+this.health.currentHealth),n.addLine("Damage: "+this._damage),n.addLine("Kills: "+this._kills),n.addLine(t),n.addLine(e),n.draw()}}},{key:"killed",get:function(){return this._killed}},{key:"damage",get:function(){return this._damage}},{key:"kills",get:function(){return this._kills}},{key:"squadId",get:function(){return this._squadId}},{key:"angle",get:function(){return this.vector.getAngle()},set:function(t){this.vector.setAngle(t)}}]),e}();function Oo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._gridBlockSize=100,this._columns=Math.round(Co/this._gridBlockSize),this._rows=Math.round(Mo/this._gridBlockSize),this._grid=new Array(this._columns);for(var e=0;e<this._grid.length;e++){this._grid[e]=new Array(this._rows);for(var n=0;n<this._grid.length;n++)this._grid[e][n]=[]}}return function(t,e,n){e&&Oo(t.prototype,e),n&&Oo(t,n)}(t,[{key:"gridHasKeys",value:function(t,e){return t>=0&&t<this._columns&&e>=0&&e<this._rows}},{key:"addParticle",value:function(t){t.gridX=Math.floor(t.position.x/this.gridBlockSize),t.gridY=Math.floor(t.position.y/this.gridBlockSize),this.gridHasKeys(t.gridX,t.gridY)&&this._grid[t.gridX][t.gridY].push(t)}},{key:"removeParticle",value:function(t){this.gridHasKeys(t.gridX,t.gridY)&&(this._grid[t.gridX][t.gridY]=this._grid[t.gridX][t.gridY].filter(function(e){return e.id!==t.id}))}},{key:"findGridRange",value:function(t,e){var n=t.position.x/this.gridBlockSize,o=t.position.y/this.gridBlockSize,r=e/this.gridBlockSize+2;return this.gridRange={start:[Math.floor(n-r),Math.floor(o-r)],end:[Math.ceil(n+r),Math.ceil(o+r)]},this.forceRangeToGridRowsColumns(),this.gridRange}},{key:"forceRangeToGridRowsColumns",value:function(){this.gridRange.start[0]<0&&(this.gridRange.start[0]=0),this.gridRange.start[1]<0&&(this.gridRange.start[1]=0),this.gridRange.end[0]>this._columns&&(this.gridRange.end[0]=this._columns),this.gridRange.end[1]>this._rows&&(this.gridRange.end[1]=this._rows)}},{key:"log",value:function(){Io.gameGridLog&&(Io.gameGridLog=!1,console.log(this.grid))}},{key:"draw",value:function(){this.drawGrid(),this.drawGridContent()}},{key:"drawGridContent",value:function(){if(Ro.font="10px Verdana",Ro.textAlign="left",Ro.fillStyle=Po.green,Io.gameGridToggle)for(var t=0;t<this._grid.length;t++)for(var e=0;e<this._grid[t].length;e++)for(var n=0;n<this._grid[t][e].length;n++){var o=this._grid[t][e][n],r=o instanceof wo?"Drone:"+o.name:o.id;Ro.fillText(r,t*this._gridBlockSize+4,e*this._gridBlockSize+(10*n+14))}}},{key:"drawGrid",value:function(){if(Io.gameGridToggle){Ro.setLineDash([1,7]),Ro.strokeStyle=Po.white;for(var t=0;t<this._columns;t++)Ro.fillText(t,t*this._gridBlockSize,10),Ro.beginPath(),Ro.moveTo(t*this._gridBlockSize,0),Ro.lineTo(t*this._gridBlockSize,Mo),Ro.stroke();for(var e=0;e<this._rows;e++)Ro.fillText(e,0,e*this._gridBlockSize+10),Ro.beginPath(),Ro.moveTo(0,e*this._gridBlockSize),Ro.lineTo(Co,e*this._gridBlockSize),Ro.stroke();Ro.setLineDash([0])}}},{key:"gridBlockSize",get:function(){return this._gridBlockSize}},{key:"columns",get:function(){return this._columns}},{key:"rows",get:function(){return this._rows}},{key:"grid",get:function(){return this._grid}}]),t}();function So(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ko=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._gameGridToggle=!1,this._scannerRadiusToggle=!1,this._scannerPathToggle=!1,this._droneNameToggle=!1,this._droneDataToggle=!1,this._gameDataToggle=!1,this._gameGridLog=!1}return function(t,e,n){e&&So(t.prototype,e),n&&So(t,n)}(t,[{key:"initialiseListeners",value:function(){this.addGameGridToggleListener(),this.addScannerRadiusToggleListener(),this.addScannerPathToggleListener(),this.addNameToggleListener(),this.addDataToggleListener(),this.addGameDataToggleListener(),this.addGameGridLogListener()}},{key:"addGameGridLogListener",value:function(){var t=this;document.getElementById("game-grid-log").addEventListener("click",function(e){t._gameGridLog=!t._gameGridLog})}},{key:"addGameGridToggleListener",value:function(){var t=this;document.getElementById("game-grid-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._gameGridToggle=!t._gameGridToggle})}},{key:"addScannerRadiusToggleListener",value:function(){var t=this;document.getElementById("scanner-radius-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._scannerRadiusToggle=!t._scannerRadiusToggle})}},{key:"addScannerPathToggleListener",value:function(){var t=this;document.getElementById("scanner-path-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._scannerPathToggle=!t._scannerPathToggle})}},{key:"addNameToggleListener",value:function(){var t=this;document.getElementById("name-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._droneNameToggle=!t._droneNameToggle})}},{key:"addDataToggleListener",value:function(){var t=this;document.getElementById("data-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._droneDataToggle=!t._droneDataToggle})}},{key:"addGameDataToggleListener",value:function(){var t=this;document.getElementById("game-data-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._gameDataToggle=!t._gameDataToggle})}},{key:"gameDataToggle",get:function(){return this._gameDataToggle},set:function(t){this._gameDataToggle=t}},{key:"droneDataToggle",get:function(){return this._droneDataToggle},set:function(t){this._droneDataToggle=t}},{key:"gameGridLog",get:function(){return this._gameGridLog},set:function(t){this._gameGridLog=t}},{key:"gameGridToggle",get:function(){return this._gameGridToggle},set:function(t){this._gameGridToggle=t}},{key:"droneNameToggle",get:function(){return this._droneNameToggle},set:function(t){this._droneNameToggle=t}},{key:"scannerPathToggle",get:function(){return this._scannerPathToggle},set:function(t){this._scannerPathToggle=t}},{key:"scannerRadiusToggle",get:function(){return this._scannerRadiusToggle},set:function(t){this._scannerRadiusToggle=t}}]),t}();function To(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var jo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var e=new Image,n=new Image,o=[],r=0;r<40;r++)o.push({image:n,x:Math.floor(Math.random()*(Co-50)+25),y:Math.floor(Math.random()*(Mo-50)+25)});e.src="data:image/gif;base64,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",n.src="data:image/gif;base64,R0lGODdhBwAHAHcAACH5BAkKAAAALAAAAAAHAAcAwgAAAJaWlnl5eb29vdvb2wAAAAAAAAAAAAMRCBraMqKBFyWT4OYwyAialgAAOw==",this.background={moon:{image:e,x:Math.floor(Math.random()*(Co-500)+250),y:Math.floor(Math.random()*(Mo-500)+250)},stars:o}}return function(t,e,n){e&&To(t.prototype,e),n&&To(t,n)}(t,[{key:"draw",value:function(){Ro.clearRect(0,0,Co,Mo),Ro.fillStyle="#242526",Ro.fillRect(0,0,Co,Mo);for(var t=0;t<this.background.stars.length;t++)Ro.drawImage(this.background.stars[t].image,this.background.stars[t].x,this.background.stars[t].y);Ro.drawImage(this.background.moon.image,this.background.moon.x,this.background.moon.y)}}]),t}(),Ao=document.getElementById("canvas"),Po={black:"#2a2e34",white:"#b3dce2",orange:"#ffaa39",red:"#e62429",green:"#80bf32",blue:"#3b9ec7"},Eo={state:"playing"},xo=.8,Ro=Ao.getContext("2d"),Co=Ao.width=window.innerWidth,Mo=Ao.height=window.innerHeight,Io=new ko,qo=new jo,Lo=new _o,Do=[],Zo=new j(Co,Mo),zo=new f(Co,Mo);function Ho(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Go=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this._name=n,this.colour=o,this.drones=[]}return function(t,e,n){e&&Ho(t.prototype,e),n&&Ho(t,n)}(t,[{key:"addDrone",value:function(t){this.drones.push(t)}},{key:"drawHealth",value:function(t){var e=new P(Co/4*(2*t+1),24,.45*Co,14,Po[this.colour],Po.white);e.setPercentage(this.health,this.startHealth),e.draw()}},{key:"name",get:function(){return this._name}},{key:"kills",get:function(){return this.drones.map(function(t){return t.kills}).reduce(function(t,e){return t+e})}},{key:"health",get:function(){return this.drones.map(function(t){return t.health.currentHealth>0?t.health.currentHealth:0}).reduce(function(t,e){return t+e})}},{key:"startHealth",get:function(){return this.drones.map(function(t){return t.health.health}).reduce(function(t,e){return t+e})}}]),t}();function Ko(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Qo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&Ko(t.prototype,e),n&&Ko(t,n)}(t,null,[{key:"make",value:function(t,e){var n=new wo(t,e,Math.random()*Co,Math.random()*Mo,Math.random()*Math.PI*2);return Zo.addDrone(n),n}}]),t}();function Bo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Vo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&Bo(t.prototype,e),n&&Bo(t,n)}(t,null,[{key:"make",value:function(t){var e=new Go(t.id,t.name,t.colour);return t.drones.map(function(n){e.addDrone(Qo.make(n,t))}),e}}]),t}();function Jo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Xo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&Jo(t.prototype,e),n&&Jo(t,n)}(t,null,[{key:"displaySquadData",value:function(){Do.map(function(t,e){t.drawHealth(e);var n=new ao(Co/4*(2*e+1),40,t.colour,"center");n.addLine(t.name),n.addLine("Kills: ".concat(t.kills)),n.draw()})}},{key:"displayGameOver",value:function(){}}]),t}();function Fo(t){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function No(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Uo(t,e){return!e||"object"!==Fo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yo(t){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wo(t,e){return(Wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Uo(this,Yo(e).call(this,Co/2,Mo/2-40,"green","center",32))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wo(t,e)}(e,ao),function(t,e,n){e&&No(t.prototype,e),n&&No(t,n)}(e,[{key:"draw",value:function(){this.addLine("Game Over"),Do[0].health>Do[1].health?this.addLine(Do[0].name+" Wins"):Do[1].health>Do[0].health?this.addLine(Do[1].name+" Wins"):this.addLine("Draw")}}]),e}(),tr=n(1),er=n.n(tr),nr=n(2),or=n.n(nr),rr=n(3),ir=n.n(rr),ur=n(4),ar=n.n(ur),cr=n(5),sr=n.n(cr),fr=n(6),lr=n.n(fr),hr=[er.a,or.a,ir.a,ar.a,sr.a,lr.a];function pr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var yr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sounds={},this.songs=hr,this.loop=0,this.maxloop=4,this.loadSounds(),this.createMainAudio(),this.listenToMusic()}return function(t,e,n){e&&pr(t.prototype,e),n&&pr(t,n)}(t,[{key:"loadSounds",value:function(){for(var e in this.sounds)this.sounds[e]=t.load(this.sounds[e])}},{key:"createMainAudio",value:function(){var t=this;this.audio=document.createElement("audio"),this.audio.onended=function(){t.loop++,t.loop>t.maxloop&&t.playlist.shift(),t.playlist.length||(t.playlist=t.songs),t.dom.currentTime=0,t.audio.src=t.playlist[0],t.audio.play()}}},{key:"listenToMusic",value:function(){this.playlist=this.songs,this.audio.src=this.playlist[0],this.audio.play()}},{key:"load",value:function(t){var e=document.createElement("audio");return e.src=t,e}},{key:"start",value:function(){this.audio.fastSeek(0),this.audio.play()}},{key:"stop",value:function(){this.audio.pause(),this.audio.fastSeek(0)}},{key:"play",value:function(t){this.sounds[t].play()}}]),t}();function br(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Io.initialiseListeners();var dr=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gr(this,"fetchData",function(){fetch("./data/squads.json").then(function(t){return t.json()}).then(function(t){e.setupDrones(t.data),e.play()})}),gr(this,"play",function(){e.fpsInterval=1e3/60,e.then=Date.now(),e.startTime=e.then,e.elapsed=0,e.musicManager=new yr,e.animate()}),gr(this,"animate",function(){var t=Date.now();e.elapsed=t-e.then,e.elapsed>e.fpsInterval&&(e.then=Date.now(),e.draw()),requestAnimationFrame(e.animate)}),gr(this,"draw",function(){qo.draw(),g.update(),Zo.update(),zo.update(),Lo.draw(),Lo.log(),Xo.displaySquadData(),Do.map(function(t){t.health<=0&&(Eo.state="game-over")}),"game-over"===Eo.state&&(e.musicManager.stop(),(new $o).draw())}),this.fetchData()}return function(t,e,n){e&&br(t.prototype,e),n&&br(t,n)}(t,[{key:"setupDrones",value:function(t){t.squadrons.map(function(t){return Do.push(Vo.make(t))})}}]),t}();function mr(t){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wr(t){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Or(t,e){return(Or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Sr=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(_r(_r(n=function(t,e){return!e||"object"!==mr(e)&&"function"!=typeof e?_r(t):e}(this,(t=wr(e)).call.apply(t,[this].concat(r))))),"handleClick",function(){new dr}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Or(t,e)}(e,o["Component"]),function(t,e,n){e&&vr(t.prototype,e),n&&vr(t,n)}(e,[{key:"render",value:function(){return React.createElement("div",null,React.createElement("h1",null,"Drone Squadron"),React.createElement("p",null,React.createElement("button",{onClick:this.handleClick},"Play")))}}]),e}();r.a.render(r.a.createElement(Sr,null),document.getElementById("root"))}]);
//# sourceMappingURL=bundle.js.map
!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports="Drone-Squadron-JS-V3ish/dist//music/8-Bit-Mayhem.mp3"},function(t,e){t.exports="Drone-Squadron-JS-V3ish/dist//music/80s-Space.mp3"},function(t,e){t.exports="Drone-Squadron-JS-V3ish/dist//music/Automation.mp3"},function(t,e){t.exports="Drone-Squadron-JS-V3ish/dist//music/Cool-Adventure.mp3"},function(t,e){t.exports="Drone-Squadron-JS-V3ish/dist//music/Tap-Till-You-Snap.mp3"},function(t,e){t.exports="Drone-Squadron-JS-V3ish/dist//music/Urban-Future.mp3"},function(t,e,n){"use strict";function o(t){return t.position.x>xo+t.radius||t.position.x<0-t.radius||t.position.y>Ro+t.radius||t.position.y<0-t.radius}function r(t,e){var n=e.position.x-t.position.x,o=e.position.y-t.position.y;return Math.sqrt(n*n+o*o)}function i(t,e){return Math.atan2(Math.sin(t-e),Math.cos(t-e))}function u(t,e,n){return i(t,e)<=n/2&&i(t,e)>=-n/2}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e);var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.particles=[]}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(t,[{key:"addParticle",value:function(t){this.particles.push(t)}},{key:"update",value:function(){var t=this;this.particles=this.particles.map(function(e){return e.draw(),e.update(),t.collisionDetection(e),o(e)&&e.removeParticle(),e}).filter(function(t){return!t.remove&&!o(t)})}},{key:"collisionDetection",value:function(t){Lo.drones.map(function(e){if(function(t,e){return!(t.squadId===e.squadId)&&r(t,e)<t.radius+e.radius}(t,e)){var n=e.health.currentHealth;e.health.takeDamage(t.damage),-1!==t.id&&(n>0&&e.health.currentHealth<=0&&t.tallyKill(e),t.tallyDamage(t.damage),t.removeParticle())}})}}]),t}();function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=e,this._y=n}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}}]),t}();function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._position=new f(e,n)}return function(t,e,n){e&&l(t.prototype,e),n&&l(t,n)}(t,[{key:"setAngle",value:function(t){var e=this.getLength();this._position.x=Math.cos(t)*e,this._position.y=Math.sin(t)*e}},{key:"getAngle",value:function(){return Math.atan2(this._position.y,this._position.x)}},{key:"setLength",value:function(t){var e=this.getAngle();this._position.x=Math.cos(e)*t,this._position.y=Math.sin(e)*t}},{key:"getLength",value:function(){return Math.sqrt(this._position.x*this._position.x+this._position.y*this._position.y)}},{key:"add",value:function(e){return new t(this._position.x+e.x,this._position.y+e.y)}},{key:"subtract",value:function(e){return new t(this._position.x-e.x,this._position.y-e.y)}},{key:"multiply",value:function(e){return new t(this._position.x*e,this._position.y*e)}},{key:"divide",value:function(e){return new t(this._position.x/e,this._position.y/e)}},{key:"addTo",value:function(t){this._position.x+=t.x,this._position.y+=t.y}},{key:"subtractFrom",value:function(t){this._position.x-=t.x,this._position.y-=t.y}},{key:"multiplyBy",value:function(t){this._position.x*=t,this._position.y*=t}},{key:"divideBy",value:function(t){this._position.x/=t,this._position.y/=t}},{key:"angleTo",value:function(t){Math.atan2(t.y-this.y,t.x-this.x)}},{key:"x",get:function(){return this._position.x},set:function(t){this._position.x=t}},{key:"y",get:function(){return this._position.y},set:function(t){this._position.y=t}},{key:"point",get:function(){return this._position},set:function(t){this._position=t}}]),t}();function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var p=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startTime=Date.now(),this.lastTime=Date.now(),this.currentTime=Date.now(),this.deltaTime=0}return function(t,e,n){e&&y(t.prototype,e),n&&y(t,n)}(t,[{key:"update",value:function(){this.currentTime=Date.now(),this.deltaTime=this.currentTime-this.lastTime,this.lastTime=this.currentTime}},{key:"getTime",value:function(){return this.deltaTime/100}},{key:"getOffsetTime",value:function(t){return this.deltaTime/100+t}},{key:"getElapsedTime",value:function(){return(this.currentTime-this.startTime)/100}},{key:"getOffsetElapsedTime",value:function(t){return(this.currentTime-this.startTime)/100+t}}]),t}());function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(e,n,o,r,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e,this.radius=i,this.position=new h(n,o),this.velocity=new h(0,0),this.velocity.setLength(r),this.velocity.setAngle(u),this._remove=!1,this._colour=Ao.white,this._gridX=Math.floor(this.position.x/qo.gridBlockSize),this._gridY=Math.floor(this.position.y/qo.gridBlockSize)}return function(t,e,n){e&&b(t.prototype,e),n&&b(t,n)}(t,[{key:"update",value:function(){this.move()}},{key:"move",value:function(){var t=this.velocity.multiply(p.getTime());this.velocity.multiply(Po),qo.removeParticle(this),this.position.addTo(t),qo.addParticle(this)}},{key:"removeParticle",value:function(){this._remove=!0,qo.removeParticle(this)}},{key:"draw",value:function(){Eo.beginPath(),Eo.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),Eo.fillStyle=this._colour,Eo.fill(),Eo.strokeStyle=this._colour,Eo.stroke()}},{key:"gridY",get:function(){return this._gridY},set:function(t){this._gridY=t}},{key:"gridX",get:function(){return this._gridX},set:function(t){this._gridX=t}},{key:"remove",get:function(){return this._remove}},{key:"id",get:function(){return this._id}},{key:"colour",get:function(){return this._colour}}]),t}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function v(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=function(t){function e(t,n,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=v(this,w(e).call(this,t,n,o,0,48,0)))._sprite="data:image/png;base64,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",r._explosionImage=new Image,r._explosionImage.src=r._sprite,r._frame=0,r._damage=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,g),function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(e,[{key:"update",value:function(){this._frame++,this._frame>8&&(this._remove=!0)}},{key:"draw",value:function(){Eo.translate(this.position.x-24,this.position.y-24),Eo.drawImage(this._explosionImage,48*this._frame,0,48,48,0,0,48,48),Eo.resetTransform()}},{key:"damage",get:function(){return this._damage}}]),e}();function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._drones=[]}return function(t,e,n){e&&k(t.prototype,e),n&&k(t,n)}(t,[{key:"addDrone",value:function(t){this._drones.push(t)}},{key:"update",value:function(){this._drones=function(t){for(var e=[],n=t;0!==n.length;){var o=Math.floor(n.length*Math.random());e.push(n[o]),n.splice(o,1)}return e}(this._drones),this._drones=this._drones.map(function(t){if(t.draw(),t.update(),function(t){t.position.x>xo&&(t.position.x=0),t.position.x<0&&(t.position.x=xo),t.position.y>Ro&&(t.position.y=0),t.position.y<0&&(t.position.y=Ro)}(t),t.health.currentHealth<=0){var e=new S(-1,t.position.x,t.position.y);Do.addParticle(e),t.removeParticle()}return t}).filter(function(t){return t.health.currentHealth>0})}},{key:"drones",get:function(){return this._drones}}]),t}();function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var A=function(){function t(e,n,o,r,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=e,this._y=n,this._width=o,this._height=r,this._fill=i,this._stroke=u,this._percentage=100}return function(t,e,n){e&&T(t.prototype,e),n&&T(t,n)}(t,[{key:"setPercentage",value:function(t,e){this._percentage=t/e*100}},{key:"draw",value:function(){Eo.translate(this._x-this._width/2,this._y),this.drawStroke(),this.drawFill(),Eo.resetTransform()}},{key:"drawFill",value:function(){this.drawPercentBox(this._percentage),Eo.fillStyle=this._fill,Eo.fill()}},{key:"drawStroke",value:function(){this.drawPercentBox(),Eo.strokeStyle=this._stroke,Eo.stroke()}},{key:"drawPercentBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;Eo.beginPath(),Eo.moveTo(0,0),Eo.lineTo(this._width*t/100,0),Eo.lineTo(this._width*t/100,this._height),Eo.lineTo(0,this._height),Eo.lineTo(0,0)}}]),t}();function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function E(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=E(this,R(e).call(this,0,16,16,4,Ao.green,Ao.white)))._health=t,n._currentHealth=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,A),function(t,e,n){e&&P(t.prototype,e),n&&P(t,n)}(e,[{key:"takeDamage",value:function(t){this._currentHealth-=t}},{key:"repairDamage",value:function(t){this._currentHealth+t<this._health?this._currentHealth+=t:this._currentHealth=this._health}},{key:"draw",value:function(t){Eo.translate(t.position.x,t.position.y),this.setPercentage(this._currentHealth,this._health),this._fill=this._currentHealth<=20?Ao.red:Ao.green,x(R(e.prototype),"draw",this).call(this)}},{key:"health",get:function(){return this._health}},{key:"currentHealth",get:function(){return this._currentHealth}}]),e}(),q=new Image,I=new Image;q.src="data:image/gif;base64,R0lGODdhGQAaAFcAACH5BAkKAAAALAAAAAAZABoAwgAAAAJIawJL2QJy7//+F8CHRwNnmgEmYQOOCLrc/k0MUaoUUAk5jvdCIHzeMGGMaWaKOrBMiMLLNhiEIePG6XAeR8BRmtBkNMiJYEvWVDIojGOoFGTWnjEmIdVEC5IP4HKSVcmh+YFcp6LuloBAuL7Mts31MmPZelGAfT8SOHUydAWCbF0HVToijyUbESZeBzIHAGJbAEBBX30fJihAZgekC2U0q3EPCQA7",I.src="data:image/gif;base64,R0lGODdhGQAaAFcAACH5BAkKAAAALAAAAAAZABoAwgAAAFsbI4cmHcYhHf///3282ZwsWQAAAAORCLrc/k0MUaoUUAk5gjeBEAagN0wYc56Zsg4tI6bxsg0GYcy5gTocjyMwDJxomVkNgiLclrbVTBrjGCqFGdY3iUg8Qk1oATZuXCso4LUkqh/Kt2yGVE8IhCxMfdtkL3UQNz5ThIFzOHhZIYqGcF8kBTshVyU/MidlACMim2BHUR1hYkifXQBBakana2k1bHIZCQA7";var L={blue:q,red:I};function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.thrust=e,this.roaming={callback:null,count:0}}return function(t,e,n){e&&D(t.prototype,e),n&&D(t,n)}(t,[{key:"setPower",value:function(t){switch(this.drone=t,this.power=1,!0){case this.targetIsCloseBehind(t)||this.hasThreats(t):this.startThrusting(1);break;case this.targetIsTooClose(t):this.stopThrusting();break;case t.scanner.hasTarget()&&u(t.angle,t.scanner.angleToTarget(),.2):this.power=this.getPowerFromDistance(t),this.startThrusting(this.power);break;case t.scanner.hasTarget()&&u(t.angle,t.scanner.angleToTarget(),.3):this.power=.8*this.getPowerFromDistance(t),this.startThrusting();break;case t.scanner.hasTarget()&&u(t.angle,t.scanner.angleToTarget(),.6):this.power=.4,this.startThrusting();break;default:this.roaming.count<=0&&(this.roaming.count=25*Math.random()+5,this.roaming.callback=Math.random()>.4?this.startThrusting.bind(this):this.stopThrusting.bind(this)),this.power=.5,this.roaming.callback(),this.roaming.count--}}},{key:"startThrusting",value:function(){this.drone.velocity.setLength(this.thrust*this.power)}},{key:"stopThrusting",value:function(){this.power=0}},{key:"isThrusting",value:function(){return this.power>0}},{key:"draw",value:function(t){this.isThrusting()&&(Eo.translate(t.position.x,t.position.y),Eo.rotate(t.vector.getAngle()),Eo.beginPath(),Eo.moveTo(-0,-2),Eo.lineTo(-8,Math.floor(2*Math.random())-3),Eo.lineTo(-6,-1),Eo.lineTo(-10,Math.floor(3*Math.random())-1),Eo.lineTo(-6,1),Eo.lineTo(-8,Math.floor(2*Math.random())+2),Eo.lineTo(-4,2),Eo.strokeWidth=.5,Eo.strokeStyle=Ao.orange,Eo.stroke(),Eo.fillStyle=Ao.red,Eo.fill(),Eo.resetTransform())}},{key:"targetIsCloseBehind",value:function(){return this.drone.scanner.hasTarget()&&r(this.drone,this.drone.scanner.target)<400&&this.targetIsBehind(this.drone)}},{key:"targetIsTooClose",value:function(){return this.drone.scanner.hasTarget()&&r(this.drone,this.drone.scanner.target)<30&&u(this.drone,.6)}},{key:"getPowerFromDistance",value:function(t){switch(!0){case r(t,t.scanner.target)>800:return this.targetIsAhead(t)?1:0;case r(t,t.scanner.target)>600:return this.targetIsAhead(t)?.8:.2;case r(t,t.scanner.target)>300:return this.targetIsAhead(t)?.6:.4;case r(t,t.scanner.target)>200:return this.targetIsAhead(t)?.4:.6;case r(t,t.scanner.target)>100:return this.targetIsAhead(t)?.2:.8;default:return this.targetIsAhead(t)?.1:.9}}},{key:"targetIsAhead",value:function(t){return u(t,Math.PI/2)}},{key:"targetIsBehind",value:function(t){return!u(t,Math.PI/2)}},{key:"hasThreats",value:function(t){return t.scanner.threats>0}}]),t}();function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,G(e).call(this,20))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(e,Z),e}();function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),J(this,V(e).call(this,18))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,Z),e}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,W(e).call(this,15))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,Z),e}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),et(this,nt(e).call(this,12))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(e,Z),e}();function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var st=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ut(this,at(e).call(this,10))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(e,Z),e}();function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var lt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.turningSpeed=e,this.turnAmount=0,this.roaming={callback:null,count:0},this.evading={callback:null,count:0},this.dodging={callback:null,count:0}}return function(t,e,n){e&&ft(t.prototype,e),n&&ft(t,n)}(t,[{key:"turn",value:function(t){this.drone=t;var e=i(t.angle,t.scanner.angleToTarget());switch(!0){case this.hasTargetCloseBehind(t):this.evade();break;case this.hasThreats(t):this.dodge();break;case this.hasNoTarget(t):this.roam();break;case e>=.6:this.turnAmount=.1*this.turningSpeed,this.turnLeft();break;case e>=.4:this.turnAmount=.066*this.turningSpeed,this.turnLeft();break;case e>=.2:this.turnAmount=.033*this.turningSpeed,this.turnLeft();break;case e>0:this.turnLeft(e);break;case e<=-.6:this.turnAmount=.1*this.turningSpeed,this.turnRight();break;case e<=-.4:this.turnAmount=.066*this.turningSpeed,this.turnRight();break;case e<=-.2:this.turnAmount=.033*this.turningSpeed,this.turnRight();break;case e<0:this.turnRight(e)}}},{key:"hasTargetCloseBehind",value:function(t){return t.scanner.hasTarget()&&r(t,t.scanner.target)<200&&!u(t,Math.PI/2)}},{key:"hasThreats",value:function(t){return t.scanner.threats>0}},{key:"hasNoTarget",value:function(t){return!t.scanner.hasTarget()}},{key:"turnLeft",value:function(){this.incrementAngle(-this.turnAmount)}},{key:"turnRight",value:function(){this.incrementAngle(this.turnAmount)}},{key:"incrementAngle",value:function(t){this.drone.angle+=t}},{key:"roam",value:function(){this.roaming.count>0?(this.turnAmount=.033*this.turningSpeed,this.roaming.callback(),this.roaming.count--):(this.roaming.count=Math.floor(60*Math.random()+20),this.roaming.callback=Math.random()>.5?this.turnRight.bind(this):this.turnLeft.bind(this))}},{key:"evade",value:function(){this.evading.count>0?(this.turnAmount=.1*this.turningSpeed,this.evading.callback(),this.evading.count--):(this.evading.count=Math.floor(35*Math.random()+15),this.evading.callback=Math.random()>.5?this.turnRight.bind(this):this.turnLeft.bind(this))}},{key:"dodge",value:function(){this.dodging.count>0?(this.turnAmount=.06*this.turningSpeed,this.dodging.callback(),this.dodging.count--):(this.dodging.count=Math.floor(10*Math.random()+5),this.dodging.callback=Math.random()>.5?this.turnRight.bind(this):this.turnLeft.bind(this))}}]),t}();function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),yt(this,pt(e).call(this,1.5))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(e,lt),e}();function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){return!e||"object"!==dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mt(this,vt(e).call(this,1.2))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,lt),e}();function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){return!e||"object"!==St(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var At=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),kt(this,_t(e).call(this,1))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(e,lt),e}();function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Pt(this,Et(e).call(this,.8))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,lt),e}();function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ct(this,qt(e).call(this,.6))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,lt),e}();function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Zt(this,zt(e).call(this,.4))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,lt),e}();function Kt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Qt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vector=new h(0,0),this.vector.setAngle(0),this.vector.setLength(5),this.rotation="right",this._angleLimit=e,this.turningSpeed=n,this.lead=.2}return function(t,e,n){e&&Kt(t.prototype,e),n&&Kt(t,n)}(t,[{key:"trackTarget",value:function(t){if(t.scanner.hasTarget())switch(!0){case i(t.angle+this.vector.getAngle(),t.scanner.angleToTarget())>.05:this.rotation="left";break;case i(t.angle+this.vector.getAngle(),t.scanner.angleToTarget())<-.05:this.rotation="right";break;default:return}this.turn()}},{key:"turn",value:function(){switch(!0){case"right"===this.rotation&&this.vector.getAngle()<this._angleLimit:this.vector.setAngle(this.vector.getAngle()+this.turningSpeed);break;case"left"===this.rotation&&this.vector.getAngle()>-this._angleLimit:this.vector.setAngle(this.vector.getAngle()-this.turningSpeed);break;case"right"===this.rotation&&this.vector.getAngle()>this._angleLimit:this.rotation="left";break;case"left"===this.rotation&&this.vector.getAngle()<-this._angleLimit:this.rotation="right"}}},{key:"angleLimit",get:function(){return this._angleLimit}}]),t}();function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xt(t,e){return(Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Jt(this,Vt(e).call(this,.175*180,.175))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xt(t,e)}(e,Qt),e}();function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){return!e||"object"!==Yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $t=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Nt(this,Wt(e).call(this,.175*12,.16))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(e,Qt),e}();function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var re=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ee(this,ne(e).call(this,1.575,.15))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(e,Qt),e}();function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){return!e||"object"!==ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ae(t){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var se=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ue(this,ae(e).call(this,.175*6,.15))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(e,Qt),e}();function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){return!e||"object"!==fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),le(this,he(e).call(this,.7875,.14))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(e,Qt),e}();function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){return!e||"object"!==be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function me(t,e){return(me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ve=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ge(this,de(e).call(this,.175*3,.12))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(e,Qt),e}();function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){return!e||"object"!==we(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ke(t,e){return(ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _e=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Oe(this,Se(e).call(this,.35,.1))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ke(t,e)}(e,Qt),e}();function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function je(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xe=function(t){function e(t,n,o,r,i,u,a,c){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=je(this,Pe(e).call(this,t.id,n,o,r,i,u)))._drone=t,s._damage=c,s.velocity.addTo(a),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(e,g),function(t,e,n){e&&Ae(t.prototype,e),n&&Ae(t,n)}(e,[{key:"tallyKill",value:function(t){this._drone.updateKills(t)}},{key:"tallyDamage",value:function(t){this._drone.updateDamage(t)}},{key:"squadId",get:function(){return this._drone.squadId}},{key:"damage",get:function(){return this._damage}}]),e}();function Re(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Me=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.radius=e,this._target=null,this._drone=null,this._threats=0}return function(t,e,n){e&&Re(t.prototype,e),n&&Re(t,n)}(t,[{key:"hasTarget",value:function(){return null!==this._target}},{key:"scanArea",value:function(t){this._threats=0,this._drone=t,this._target=null,this.nearestTarget={target:null,distance:null},this.gridRange=qo.findGridRange(t,this.radius),this.scanGridRange(t,this.nearestTarget),this.selectTargetIfValid()}},{key:"scanGridRange",value:function(){for(var t=this,e=this.gridRange.start[0];e<this.gridRange.end[0];e++)for(var n=this.gridRange.start[1];n<this.gridRange.end[1];n++)qo.grid[e][n].map(function(e){t.detectThreats(e),t.findNearestDrone(e)})}},{key:"detectThreats",value:function(t){var e=i(t.angle,this.angleToParticle(t));t instanceof xe&&t.squadId!==this._drone.squadId&&this.distanceToParticle(t)<300&&(e<=.15||e>=-.15)&&this._threats++}},{key:"selectTargetIfValid",value:function(){null!==this.nearestTarget.target&&this.nearestTarget.distance<=this.radius&&this.nearestTarget.target.health.currentHealth>0?this._target=this.nearestTarget.target:this._target=null}},{key:"findNearestDrone",value:function(t){if(t instanceof mo&&t.squadId!==this._drone.squadId){var e=this.distanceToParticle(t);(null===this.nearestTarget.distance||e<this.nearestTarget.distance)&&(this.nearestTarget.target=t,this.nearestTarget.distance=e)}}},{key:"angleToTarget",value:function(){return this.hasTarget()?this.angleToParticle(this._target):0}},{key:"angleToParticle",value:function(t){return Math.atan2(t.position.y-this._drone.position.y,t.position.x-this._drone.position.x)}},{key:"distanceToParticle",value:function(t){var e=t.position.x-this._drone.position.x,n=t.position.y-this._drone.position.y;return Math.sqrt(e*e+n*n)}},{key:"draw",value:function(t){this.hasTarget()&&(Eo.translate(this.target.position.x,this.target.position.y),Eo.beginPath(),Eo.moveTo(-5,-5),Eo.lineTo(5,5),Eo.moveTo(5,-5),Eo.lineTo(-5,5),Eo.strokeStyle=t.colour,Eo.strokeWidth=5,Eo.stroke(),Eo.resetTransform(),this.drawScannerPath(t)),this.drawScannerRadius(t)}},{key:"drawScannerPath",value:function(t){Mo.scannerPathToggle&&(Eo.setLineDash([1,5]),Eo.beginPath(),Eo.moveTo(t.position.x,t.position.y),Eo.lineTo(this.target.position.x,this.target.position.y),Eo.strokeStyle=Ao.white,Eo.stroke(),Eo.setLineDash([0]))}},{key:"drawScannerRadius",value:function(t){Mo.scannerRadiusToggle&&(Eo.setLineDash([1,5]),Eo.beginPath(),Eo.arc(t.position.x,t.position.y,this.radius,0,2*Math.PI),Eo.strokeStyle=Ao.white,Eo.stroke(),Eo.setLineDash([0]))}},{key:"threats",get:function(){return this._threats}},{key:"target",get:function(){return this._target}}]),t}();function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){return!e||"object"!==Ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ie(t){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t,e){return(Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var De=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qe(this,Ie(e).call(this,900))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Le(t,e)}(e,Me),e}();function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ze(t,e){return!e||"object"!==Ze(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ke=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ze(this,He(e).call(this,800))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(e,Me),e}();function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){return!e||"object"!==Qe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ve(t,e){return(Ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Be(this,Je(e).call(this,700))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ve(t,e)}(e,Me),e}();function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){return!e||"object"!==Fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ue=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ye(this,Ne(e).call(this,600))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(e,Me),e}();function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function en(t){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nn(t,e){return(nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var on=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),tn(this,en(e).call(this,500))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(e,Me),e}();function rn(t){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){return!e||"object"!==rn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function an(t){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cn(t,e){return(cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),un(this,an(e).call(this,400))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cn(t,e)}(e,Me),e}();function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ln(t,e){return!e||"object"!==fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yn(t,e){return(yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ln(this,hn(e).call(this,300))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yn(t,e)}(e,Me),e}();function bn(t){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(t,e){return!e||"object"!==bn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vn={G40:_e,G60:ve,G90:pe,G120:se,G180:re,G240:$t,G360:Ft},wn={SC200:function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gn(this,dn(e).call(this,200))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}(e,Me),e}(),SC300:pn,SC400:sn,SC500:on,SC600:Ue,SC700:Xe,SC800:Ke,SC900:De},On={S4:Gt,S6:Lt,S8:Rt,S10:At,S12:Ot,S15:gt},Sn={T10:st,T12:rt,T15:$,T18:F,T20:Q};function kn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _n=function(){function t(e,n,o,r,i,u,a,c,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.drone=e,this.id=e.id,this.squadId=e.squadId,this.colour=o,this.position=new h(r,i),this.velocity=0,this.fireRate=s,this.lastFired=0,this.gimbal=new a,this.round=c,this._name=n}return function(t,e,n){e&&kn(t.prototype,e),n&&kn(t,n)}(t,[{key:"draw",value:function(){Eo.translate(this.position.x,this.position.y),Eo.rotate(this.gimbal.vector.getAngle()+this.droneAngle),Eo.beginPath(),Eo.lineTo(10,-2),Eo.lineTo(10,2),Eo.lineTo(0,2),Eo.lineTo(0,-2),Eo.strokeStyle=this.colour,Eo.stroke(),Eo.fillStyle=this.colour,Eo.fill(),Eo.resetTransform()}},{key:"update",value:function(t){this.position.x=t.position.x,this.position.y=t.position.y,this.velocity=t.velocity,this.droneAngle=t.vector.getAngle(),this.gimbal.trackTarget(t);var e=i(t.angle,t.scanner.angleToTarget());t.scanner.hasTarget()&&e<=this.gimbal.angleLimit&&e>=-this.gimbal.angleLimit&&this.fireIfReady()}},{key:"fireIfReady",value:function(){p.getElapsedTime()-this.lastFired>this.fireRate&&(this.fire(),this.lastFired=p.getElapsedTime())}},{key:"fire",value:function(){Do.addParticle(new this.round(this.drone,this.position.x,this.position.y,this.gimbal.vector.getAngle()+this.droneAngle,this.velocity))}},{key:"applyFill",value:function(){Eo.fillStyle=this.colour,Eo.fill()}},{key:"applyStroke",value:function(){Eo.strokeStyle=this.colour,Eo.stroke()}},{key:"name",get:function(){return this._name}}]),t}();function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function An(t,e){return!e||"object"!==Tn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pn(t,e){return(Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var En=function(t){function e(t,n,o,r,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=An(this,jn(e).call(this,t,n,o,45,1,r,i,3)))._colour=Ao.orange,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}(e,xe),e}();function xn(t){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Mn(t,e){return!e||"object"!==xn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cn(t){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var In=function(t){function e(t,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=En;return Mn(this,Cn(e).call(this,t,"Uzi","#8aa",n,o,r,i,u,2))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(e,_n),function(t,e,n){e&&Rn(t.prototype,e),n&&Rn(t,n)}(e,[{key:"draw",value:function(){Eo.translate(this.position.x,this.position.y),Eo.rotate(this.gimbal.vector.getAngle()+this.droneAngle),Eo.beginPath(),Eo.lineTo(6,-1),Eo.lineTo(6,1),Eo.lineTo(0,1),Eo.lineTo(0,-1),this.applyStroke(),this.applyFill(),Eo.resetTransform()}}]),e}();function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dn(t,e){return!e||"object"!==Ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hn=function(t){function e(t,n,o,r,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Dn(this,Zn(e).call(this,t,n,o,38,.5,r,i,1))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(e,xe),e}();function Gn(t){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qn(t,e){return!e||"object"!==Gn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bn(t){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vn=function(t){function e(t,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=Hn;return Qn(this,Bn(e).call(this,t,"Shotgun","#664",n,o,r,i,u,7))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jn(t,e)}(e,_n),function(t,e,n){e&&Kn(t.prototype,e),n&&Kn(t,n)}(e,[{key:"draw",value:function(){Eo.translate(this.position.x,this.position.y),Eo.rotate(this.gimbal.vector.getAngle()+this.droneAngle),Eo.beginPath(),Eo.lineTo(8,-2),Eo.lineTo(8,2),Eo.lineTo(0,2),Eo.lineTo(0,-2),this.applyStroke(),this.applyFill(),Eo.resetTransform()}},{key:"fire",value:function(){for(var t=0;t<12;t++){var e=.08*Math.random()-.04;Do.addParticle(new this.round(this.drone,this.position.x,this.position.y,this.gimbal.vector.getAngle()+this.droneAngle+e,this.velocity))}}}]),e}();function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){return!e||"object"!==Xn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yn(t){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nn(t,e){return(Nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wn=function(t){function e(t,n,o,r,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=Fn(this,Yn(e).call(this,t,n,o,50,2,r,i,18)))._colour=Ao.green,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nn(t,e)}(e,xe),e}();function Un(t){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function to(t,e){return!e||"object"!==Un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function no(t,e){return(no=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oo={Uzi:In,Shotgun:Vn,Rifle:function(t){function e(t,n,o,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=Wn;return to(this,eo(e).call(this,t,"Rifle","#577",n,o,r,i,u,10))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&no(t,e)}(e,_n),function(t,e,n){e&&$n(t.prototype,e),n&&$n(t,n)}(e,[{key:"draw",value:function(){Eo.translate(this.position.x,this.position.y),Eo.rotate(this.gimbal.vector.getAngle()+this.droneAngle),Eo.beginPath(),Eo.lineTo(10,-2),Eo.lineTo(10,2),Eo.lineTo(0,2),Eo.lineTo(0,-2),this.applyStroke(),this.applyFill(),Eo.resetTransform()}}]),e}()};function ro(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var io=function(){function t(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.colour=o,this.align=r,this.size=i,this.lines=[]}return function(t,e,n){e&&ro(t.prototype,e),n&&ro(t,n)}(t,[{key:"addLine",value:function(t){this.lines.push(t)}},{key:"textStyle",value:function(){Eo.textAlign=this.align,Eo.font=this.size+"px Verdana",Eo.fillStyle=Ao[this.colour]}},{key:"draw",value:function(){var t=this;this.textStyle(),this.lines.map(function(e,n){Eo.fillText(e,t.x,t.y+(n+1)*(1.2*t.size))})}}]),t}();function uo(t){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function co(t,e){return!e||"object"!==uo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fo(t,e){return(fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lo=function(t){function e(t,n,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),co(this,so(e).call(this,t,n+25,o,"left",10))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(e,io),function(t,e,n){e&&ao(t.prototype,e),n&&ao(t,n)}(e,[{key:"draw",value:function(){var t=this;this.textStyle(),this.lines.map(function(e,n){Eo.fillText(e,25,10*(n+1-t.lines.length/2))})}}]),e}();function ho(t){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function po(t){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bo(t,e){return(bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function go(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var mo=function(t){function e(t,n,o,r,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=function(t,e){return!e||"object"!==ho(e)&&"function"!=typeof e?go(t):e}(this,po(e).call(this,t.id,o,r,0,13,i)))._squadId=n.id,u._colour=n.colour,u.name=t.name,u.vector=new h(0,1),u.vector.setAngle(i),u.weapon=new oo[t.weapon](go(go(u)),o,r,i,vn[t.gimbal]),u.scanner=new wn[t.scanner],u.thruster=new Sn[t.thruster],u.steering=new On[t.steering],u.health=new C(100),u._damage=0,u._kills=0,u._killed=[],u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bo(t,e)}(e,g),function(t,e,n){e&&yo(t.prototype,e),n&&yo(t,n)}(e,[{key:"updateDamage",value:function(t){this._damage+=t}},{key:"updateKills",value:function(t){this._kills++,this._killed.push(t)}},{key:"update",value:function(){this.scanner.scanArea(this),this.thruster.setPower(this),this.steering.turn(this),this.thruster.isThrusting()&&this.velocity.setAngle(this.vector.getAngle()),this.move(),this.weapon.update(this)}},{key:"draw",value:function(){this.weapon.draw(),this.thruster.draw(this),Eo.translate(this.position.x,this.position.y),this.drawName(),this.drawData(),this.drawSprite(),Eo.resetTransform(),this.health.draw(this),this.scanner.draw(this)}},{key:"drawSprite",value:function(){Eo.rotate(this.vector.getAngle()+Math.PI/180*90),Eo.translate(-12.5,-14),Eo.drawImage(L[this._colour],0,0)}},{key:"drawDrone",value:function(){Eo.beginPath(),Eo.moveTo(10,0),Eo.lineTo(-10,-7),Eo.lineTo(-10,7),Eo.lineTo(10,0),Eo.strokeStyle=this._colour,Eo.stroke(),Eo.fillStyle=this._colour,Eo.fill()}},{key:"drawName",value:function(){Mo.droneNameToggle&&(Eo.font="11px Verdana",Eo.textAlign="center",Eo.fillStyle=Ao[this._colour],Eo.fillText(this.name,0,-18))}},{key:"drawData",value:function(){if(Mo.droneDataToggle){var t="Position: (".concat(Math.round(this.position.x),", ").concat(Math.round(this.position.y),")"),e="Grid: (".concat(this.gridX,", ").concat(this.gridY,")"),n=new lo(0,0,this.colour);n.addLine("ID: "+this.id),n.addLine("SquadID: "+this.squadId),n.addLine("Weapon: "+this.weapon.name),n.addLine("Health: "+this.health.currentHealth),n.addLine("Damage: "+this._damage),n.addLine("Kills: "+this._kills),n.addLine(t),n.addLine(e),n.draw()}}},{key:"killed",get:function(){return this._killed}},{key:"damage",get:function(){return this._damage}},{key:"kills",get:function(){return this._kills}},{key:"squadId",get:function(){return this._squadId}},{key:"angle",get:function(){return this.vector.getAngle()},set:function(t){this.vector.setAngle(t)}}]),e}();function vo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var wo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._gridBlockSize=100,this._columns=Math.round(xo/this._gridBlockSize),this._rows=Math.round(Ro/this._gridBlockSize),this._grid=new Array(this._columns);for(var e=0;e<this._grid.length;e++){this._grid[e]=new Array(this._rows);for(var n=0;n<this._grid.length;n++)this._grid[e][n]=[]}}return function(t,e,n){e&&vo(t.prototype,e),n&&vo(t,n)}(t,[{key:"gridHasKeys",value:function(t,e){return t>=0&&t<this._columns&&e>=0&&e<this._rows}},{key:"addParticle",value:function(t){t.gridX=Math.floor(t.position.x/this.gridBlockSize),t.gridY=Math.floor(t.position.y/this.gridBlockSize),this.gridHasKeys(t.gridX,t.gridY)&&this._grid[t.gridX][t.gridY].push(t)}},{key:"removeParticle",value:function(t){this.gridHasKeys(t.gridX,t.gridY)&&(this._grid[t.gridX][t.gridY]=this._grid[t.gridX][t.gridY].filter(function(e){return e.id!==t.id}))}},{key:"findGridRange",value:function(t,e){var n=t.position.x/this.gridBlockSize,o=t.position.y/this.gridBlockSize,r=e/this.gridBlockSize+2;return this.gridRange={start:[Math.floor(n-r),Math.floor(o-r)],end:[Math.ceil(n+r),Math.ceil(o+r)]},this.forceRangeToGridRowsColumns(),this.gridRange}},{key:"forceRangeToGridRowsColumns",value:function(){this.gridRange.start[0]<0&&(this.gridRange.start[0]=0),this.gridRange.start[1]<0&&(this.gridRange.start[1]=0),this.gridRange.end[0]>this._columns&&(this.gridRange.end[0]=this._columns),this.gridRange.end[1]>this._rows&&(this.gridRange.end[1]=this._rows)}},{key:"log",value:function(){Mo.gameGridLog&&(Mo.gameGridLog=!1,console.log(this.grid))}},{key:"draw",value:function(){this.drawGrid(),this.drawGridContent()}},{key:"drawGridContent",value:function(){if(Eo.font="10px Verdana",Eo.textAlign="left",Eo.fillStyle=Ao.green,Mo.gameGridToggle)for(var t=0;t<this._grid.length;t++)for(var e=0;e<this._grid[t].length;e++)for(var n=0;n<this._grid[t][e].length;n++){var o=this._grid[t][e][n],r=o instanceof mo?"Drone:"+o.name:o.id;Eo.fillText(r,t*this._gridBlockSize+4,e*this._gridBlockSize+(10*n+14))}}},{key:"drawGrid",value:function(){if(Mo.gameGridToggle){Eo.setLineDash([1,7]),Eo.strokeStyle=Ao.white;for(var t=0;t<this._columns;t++)Eo.fillText(t,t*this._gridBlockSize,10),Eo.beginPath(),Eo.moveTo(t*this._gridBlockSize,0),Eo.lineTo(t*this._gridBlockSize,Ro),Eo.stroke();for(var e=0;e<this._rows;e++)Eo.fillText(e,0,e*this._gridBlockSize+10),Eo.beginPath(),Eo.moveTo(0,e*this._gridBlockSize),Eo.lineTo(xo,e*this._gridBlockSize),Eo.stroke();Eo.setLineDash([0])}}},{key:"gridBlockSize",get:function(){return this._gridBlockSize}},{key:"columns",get:function(){return this._columns}},{key:"rows",get:function(){return this._rows}},{key:"grid",get:function(){return this._grid}}]),t}();function Oo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var So=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._gameGridToggle=!1,this._scannerRadiusToggle=!1,this._scannerPathToggle=!1,this._droneNameToggle=!1,this._droneDataToggle=!1,this._gameDataToggle=!1,this._gameGridLog=!1}return function(t,e,n){e&&Oo(t.prototype,e),n&&Oo(t,n)}(t,[{key:"initialiseListeners",value:function(){this.addGameGridToggleListener(),this.addScannerRadiusToggleListener(),this.addScannerPathToggleListener(),this.addNameToggleListener(),this.addDataToggleListener(),this.addGameDataToggleListener(),this.addGameGridLogListener()}},{key:"addGameGridLogListener",value:function(){var t=this;document.getElementById("game-grid-log").addEventListener("click",function(e){t._gameGridLog=!t._gameGridLog})}},{key:"addGameGridToggleListener",value:function(){var t=this;document.getElementById("game-grid-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._gameGridToggle=!t._gameGridToggle})}},{key:"addScannerRadiusToggleListener",value:function(){var t=this;document.getElementById("scanner-radius-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._scannerRadiusToggle=!t._scannerRadiusToggle})}},{key:"addScannerPathToggleListener",value:function(){var t=this;document.getElementById("scanner-path-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._scannerPathToggle=!t._scannerPathToggle})}},{key:"addNameToggleListener",value:function(){var t=this;document.getElementById("name-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._droneNameToggle=!t._droneNameToggle})}},{key:"addDataToggleListener",value:function(){var t=this;document.getElementById("data-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._droneDataToggle=!t._droneDataToggle})}},{key:"addGameDataToggleListener",value:function(){var t=this;document.getElementById("game-data-toggle").addEventListener("click",function(e){e.target.classList.toggle("toggled"),t._gameDataToggle=!t._gameDataToggle})}},{key:"gameDataToggle",get:function(){return this._gameDataToggle},set:function(t){this._gameDataToggle=t}},{key:"droneDataToggle",get:function(){return this._droneDataToggle},set:function(t){this._droneDataToggle=t}},{key:"gameGridLog",get:function(){return this._gameGridLog},set:function(t){this._gameGridLog=t}},{key:"gameGridToggle",get:function(){return this._gameGridToggle},set:function(t){this._gameGridToggle=t}},{key:"droneNameToggle",get:function(){return this._droneNameToggle},set:function(t){this._droneNameToggle=t}},{key:"scannerPathToggle",get:function(){return this._scannerPathToggle},set:function(t){this._scannerPathToggle=t}},{key:"scannerRadiusToggle",get:function(){return this._scannerRadiusToggle},set:function(t){this._scannerRadiusToggle=t}}]),t}();function ko(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var e=new Image,n=new Image,o=[],r=0;r<40;r++)o.push({image:n,x:Math.floor(Math.random()*(xo-50)+25),y:Math.floor(Math.random()*(Ro-50)+25)});e.src="data:image/gif;base64,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",n.src="data:image/gif;base64,R0lGODdhBwAHAHcAACH5BAkKAAAALAAAAAAHAAcAwgAAAJaWlnl5eb29vdvb2wAAAAAAAAAAAAMRCBraMqKBFyWT4OYwyAialgAAOw==",this.background={moon:{image:e,x:Math.floor(Math.random()*(xo-500)+250),y:Math.floor(Math.random()*(Ro-500)+250)},stars:o}}return function(t,e,n){e&&ko(t.prototype,e),n&&ko(t,n)}(t,[{key:"draw",value:function(){Eo.clearRect(0,0,xo,Ro),Eo.fillStyle="#242526",Eo.fillRect(0,0,xo,Ro);for(var t=0;t<this.background.stars.length;t++)Eo.drawImage(this.background.stars[t].image,this.background.stars[t].x,this.background.stars[t].y);Eo.drawImage(this.background.moon.image,this.background.moon.x,this.background.moon.y)}}]),t}(),To=document.getElementById("canvas"),Ao={black:"#2a2e34",white:"#b3dce2",orange:"#ffaa39",red:"#e62429",green:"#80bf32",blue:"#3b9ec7"},jo={state:"playing"},Po=.8,Eo=To.getContext("2d"),xo=To.width=window.innerWidth,Ro=To.height=window.innerHeight,Mo=new So,Co=new _o,qo=new wo,Io=[],Lo=new _(xo,Ro),Do=new c(xo,Ro);function Zo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var zo=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this._name=n,this.colour=o,this.drones=[]}return function(t,e,n){e&&Zo(t.prototype,e),n&&Zo(t,n)}(t,[{key:"addDrone",value:function(t){this.drones.push(t)}},{key:"drawHealth",value:function(t){var e=new A(xo/4*(2*t+1),24,.45*xo,14,Ao[this.colour],Ao.white);e.setPercentage(this.health,this.startHealth),e.draw()}},{key:"name",get:function(){return this._name}},{key:"kills",get:function(){return this.drones.map(function(t){return t.kills}).reduce(function(t,e){return t+e})}},{key:"health",get:function(){return this.drones.map(function(t){return t.health.currentHealth>0?t.health.currentHealth:0}).reduce(function(t,e){return t+e})}},{key:"startHealth",get:function(){return this.drones.map(function(t){return t.health.health}).reduce(function(t,e){return t+e})}}]),t}();function Ho(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Go=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&Ho(t.prototype,e),n&&Ho(t,n)}(t,null,[{key:"make",value:function(t,e){var n=new mo(t,e,Math.random()*xo,Math.random()*Ro,Math.random()*Math.PI*2);return Lo.addDrone(n),n}}]),t}();function Ko(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Qo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&Ko(t.prototype,e),n&&Ko(t,n)}(t,null,[{key:"make",value:function(t){var e=new zo(t.id,t.name,t.colour);return t.drones.map(function(n){e.addDrone(Go.make(n,t))}),e}}]),t}();function Bo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Jo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&Bo(t.prototype,e),n&&Bo(t,n)}(t,null,[{key:"displaySquadData",value:function(){Io.map(function(t,e){t.drawHealth(e);var n=new io(xo/4*(2*e+1),40,t.colour,"center");n.addLine(t.name),n.addLine("Kills: ".concat(t.kills)),n.draw()})}},{key:"displayGameOver",value:function(){}}]),t}();function Vo(t){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fo(t,e){return!e||"object"!==Vo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yo(t){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function No(t,e){return(No=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fo(this,Yo(e).call(this,xo/2,Ro/2-40,"green","center",32))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&No(t,e)}(e,io),function(t,e,n){e&&Xo(t.prototype,e),n&&Xo(t,n)}(e,[{key:"draw",value:function(){this.addLine("Game Over"),Io[0].health>Io[1].health?this.addLine(Io[0].name+" Wins"):Io[1].health>Io[0].health?this.addLine(Io[1].name+" Wins"):this.addLine("Draw")}}]),e}(),Uo=n(0),$o=n.n(Uo),tr=n(1),er=n.n(tr),nr=n(2),or=n.n(nr),rr=n(3),ir=n.n(rr),ur=n(4),ar=n.n(ur),cr=n(5),sr=n.n(cr),fr=[$o.a,er.a,or.a,ir.a,ar.a,sr.a];function lr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var hr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sounds={},this.songs=fr,this.loop=0,this.maxloop=4,this.loadSounds(),this.createMainAudio(),this.listenToMusic()}return function(t,e,n){e&&lr(t.prototype,e),n&&lr(t,n)}(t,[{key:"loadSounds",value:function(){for(var e in this.sounds)this.sounds[e]=t.load(this.sounds[e])}},{key:"createMainAudio",value:function(){var t=this;this.audio=document.createElement("audio"),this.audio.onended=function(){t.loop++,t.loop>t.maxloop&&t.playlist.shift(),t.playlist.length||(t.playlist=t.songs),t.dom.currentTime=0,t.audio.src=t.playlist[0],t.audio.play()}}},{key:"listenToMusic",value:function(){this.playlist=this.songs,this.audio.src=this.playlist[0],this.audio.play()}},{key:"start",value:function(){this.audio.fastSeek(0),this.audio.play()}},{key:"stop",value:function(){this.audio.pause(),this.audio.fastSeek(0)}},{key:"play",value:function(t){this.sounds[t].play()}}],[{key:"load",value:function(t){var e=document.createElement("audio");return e.src=t,e}}]),t}();function yr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"default",function(){return pr}),Mo.initialiseListeners();var pr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fpsInterval=1e3/e,this.then=Date.now(),this.startTime=this.then,this.elapsed=0,this.animate=this.animate.bind(this),this.musicManager=new hr}return function(t,e,n){e&&yr(t.prototype,e),n&&yr(t,n)}(t,[{key:"animate",value:function(){var t=Date.now();this.elapsed=t-this.then,this.elapsed>this.fpsInterval&&(this.then=Date.now(),this.draw()),requestAnimationFrame(this.animate)}},{key:"draw",value:function(){Co.draw(),p.update(),Lo.update(),Do.update(),qo.draw(),qo.log(),Jo.displaySquadData(),Io.map(function(t){t.health<=0&&(jo.state="game-over")}),"game-over"===jo.state&&(new Wo).draw()}}]),t}();fetch("./data/squads.json").then(function(t){return t.json()}).then(function(t){!function(t){t.squadrons.map(function(t){return Io.push(Qo.make(t))})}(t.data),new pr(60).animate()})}]);
//# sourceMappingURL=bundle.js.map
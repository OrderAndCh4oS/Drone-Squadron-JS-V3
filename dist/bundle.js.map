{"version":3,"sources":["webpack:///webpack/bootstrap a8cd6a06083e49f78ba4","webpack:///./src/constants.js","webpack:///./src/service/vector.js","webpack:///./src/service/delta-time.js","webpack:///./src/abstract/weapon.js","webpack:///./src/abstract/bullet.js","webpack:///./src/functions.js","webpack:///./src/drone.js","webpack:///./src/abstract/particle.js","webpack:///./src/index.js","webpack:///./src/manager/particle-manager.js","webpack:///./src/manager/drone-manager.js","webpack:///./src/game-grid.js","webpack:///./src/service/point.js","webpack:///./src/weapon/shotgun.js","webpack:///./src/ammo/shot.js","webpack:///./src/weapon/uzi.js","webpack:///./src/ammo/nine-mm.js","webpack:///./src/weapon/rifle.js","webpack:///./src/ammo/seven-six-two-mm.js","webpack:///./src/utility/gimbal.js","webpack:///./src/abstract/scanner.js"],"names":["canvas","document","getElementById","context","getContext","canvasWidth","width","window","innerWidth","canvasHeight","height","innerHeight","grid","dm","pm","Vector","x","y","_position","angle","length","getLength","Math","cos","sin","atan2","getAngle","sqrt","v2","value","DeltaTime","startTime","Date","now","lastTime","currentTime","deltaTime","offset","Weapon","id","color","gimbal","round","fireRate","position","velocity","lastFired","translate","rotate","vector","droneAngle","beginPath","lineTo","strokeStyle","stroke","fillStyle","fill","resetTransform","scanner","update","hasTarget","angleToTarget","fireIfReady","getElapsedTime","fire","addParticle","Bullet","speed","radius","damage","_damage","addTo","isOffCanvas","returnToCanvas","distanceTo","didCollide","particle","drone","p1","p2","dx","dy","Drone","weapon","setAngle","_health","findTarget","targetAngle","random","move","moveTo","draw","Particle","_id","setLength","_remove","distanceByDeltaTime","multiply","getTime","gridX","floor","gridBlockSize","gridY","removeParticle","arc","PI","i","gimbalOne","gimbalTwo","gimbalThree","scannerOne","scannerTwo","scannerThree","droneOne","droneTwo","droneThree","addDrone","fpsInterval","then","elapsed","startAnimating","fps","animate","clearRect","fillRect","requestAnimationFrame","ParticleManager","particles","push","map","p","collisionDetection","filter","remove","drones","d","takeDamage","DroneManager","_drones","health","GameGrid","_gridBlockSize","_rows","_columns","_grid","Array","j","gridHasKeys","Point","_x","_y","Shotgun","applyStroke","applyFill","scatter","Shot","Uzi","NineMM","Rifle","SevenSixTwoMM","Gimbal","angleLimit","turningSpeed","rotation","Scanner","target","_drone","nearestTarget","distance","findGridRange","forceRangeToGridRowsColumns","gridRange","start","end","item","distanceToTarget","rows","columns"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a8cd6a06083e49f78ba4","import ParticleManager from './manager/particle-manager';\r\nimport DroneManager from './manager/drone-manager';\r\nimport GameGrid from './game-grid';\r\n\r\nconst canvas = document.getElementById('canvas');\r\nexport const context = canvas.getContext('2d');\r\nexport const canvasWidth = canvas.width = window.innerWidth;\r\nexport const canvasHeight = canvas.height = window.innerHeight;\r\nexport const grid = new GameGrid();\r\nexport const dm = new DroneManager(canvasWidth, canvasHeight);\r\nexport const pm = new ParticleManager(canvasWidth, canvasHeight);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import Point from './point';\r\n\r\nexport default class Vector {\r\n    constructor(x, y) {\r\n        this._position = new Point(x, y);\r\n    }\r\n\r\n    get x() {\r\n        return this._position.x;\r\n    }\r\n\r\n    set x(value) {\r\n        this._position.x = value;\r\n    }\r\n\r\n    get y() {\r\n        return this._position.y;\r\n    }\r\n\r\n    set y(value) {\r\n        this._position.y = value;\r\n    }\r\n\r\n    get point() {\r\n        return this._position;\r\n    }\r\n\r\n    set point(value) {\r\n        this._position = value;\r\n    }\r\n\r\n    setAngle(angle) {\r\n        const length = this.getLength();\r\n        this._position.x = Math.cos(angle) * length;\r\n        this._position.y = Math.sin(angle) * length;\r\n    }\r\n\r\n    getAngle() {\r\n        return Math.atan2(this._position.y, this._position.x);\r\n    }\r\n\r\n    setLength(length) {\r\n        const angle = this.getAngle();\r\n        this._position.x = Math.cos(angle) * length;\r\n        this._position.y = Math.sin(angle) * length;\r\n    }\r\n\r\n    getLength() {\r\n        return Math.sqrt(this._position.x * this._position.x +\r\n            this._position.y *\r\n            this._position.y);\r\n    }\r\n\r\n    add(v2) {\r\n        return new Vector(this._position.x + v2.x, this._position.y + v2.y);\r\n    }\r\n\r\n    subtract(v2) {\r\n        return new Vector(this._position.x - v2.x, this._position.y - v2.y);\r\n    }\r\n\r\n    multiply(value) {\r\n        return new Vector(this._position.x * value, this._position.y * value);\r\n    }\r\n\r\n    divide(value) {\r\n        return new Vector(this._position.x / value, this._position.y / value);\r\n    }\r\n\r\n    addTo(v2) {\r\n        this._position.x += v2.x;\r\n        this._position.y += v2.y;\r\n    }\r\n\r\n    subtractFrom(v2) {\r\n        this._position.x -= v2.x;\r\n        this._position.y -= v2.y;\r\n    }\r\n\r\n    multiplyBy(value) {\r\n        this._position.x *= value;\r\n        this._position.y *= value;\r\n    }\r\n\r\n    divideBy(value) {\r\n        this._position.x /= value;\r\n        this._position.y /= value;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/vector.js","class DeltaTime {\r\n\r\n    constructor() {\r\n        this.startTime = Date.now();\r\n        this.lastTime = Date.now();\r\n        this.currentTime = Date.now();\r\n        this.deltaTime = 0;\r\n    }\r\n\r\n    update() {\r\n        this.currentTime = Date.now();\r\n        this.deltaTime = this.currentTime - this.lastTime;\r\n        this.lastTime = this.currentTime;\r\n    }\r\n\r\n    getTime() {\r\n        return this.deltaTime / 100;\r\n    }\r\n\r\n    getOffsetTime(offset) {\r\n        return this.deltaTime / 100 + offset;\r\n    }\r\n\r\n    getElapsedTime() {\r\n        return (this.currentTime - this.startTime) / 100;\r\n    }\r\n\r\n    getOffsetElapsedTime(offset) {\r\n        return (this.currentTime - this.startTime) / 100 + offset;\r\n    }\r\n}\r\n\r\nexport const deltaTime = new DeltaTime();\n\n\n// WEBPACK FOOTER //\n// ./src/service/delta-time.js","import { context, pm } from '../constants';\r\nimport { deltaTime } from '../service/delta-time';\r\nimport Vector from '../service/vector';\r\n\r\nexport default class Weapon {\r\n    constructor(id, color, x, y, angle, gimbal, round, fireRate) {\r\n        this.id = id;\r\n        this.color = color;\r\n        this.position = new Vector(x, y);\r\n        this.velocity = 0;\r\n        this.fireRate = fireRate;\r\n        this.lastFired = 0;\r\n        this.gimbal = gimbal;\r\n        this.round = round;\r\n    }\r\n\r\n    draw() {\r\n        context.translate(this.position.x, this.position.y);\r\n        context.rotate(this.gimbal.vector.getAngle() + this.droneAngle);\r\n        context.beginPath();\r\n        context.lineTo(10, -2);\r\n        context.lineTo(10, 2);\r\n        context.lineTo(0, 2);\r\n        context.lineTo(0, -2);\r\n        context.strokeStyle = this.color;\r\n        context.stroke();\r\n        context.fillStyle = this.color;\r\n        context.fill();\r\n        context.resetTransform();\r\n    }\r\n\r\n    update(position, vector, velocity, scanner) {\r\n        this.position.x = position.x;\r\n        this.position.y = position.y;\r\n        this.velocity = velocity;\r\n        this.droneAngle = vector.getAngle();\r\n        this.gimbal.update();\r\n        if(scanner.hasTarget() && scanner.angleToTarget() > -0.4 && scanner.angleToTarget() < 0.4) {\r\n            this.fireIfReady();\r\n        }\r\n    }\r\n\r\n    fireIfReady() {\r\n        if((deltaTime.getElapsedTime() - this.lastFired) > this.fireRate) {\r\n            this.fire();\r\n            this.lastFired = deltaTime.getElapsedTime();\r\n        }\r\n    }\r\n\r\n    fire() {\r\n        pm.addParticle(\r\n            new this.round(\r\n                this.id,\r\n                this.position.x,\r\n                this.position.y,\r\n                this.gimbal.vector.getAngle() + this.droneAngle,\r\n                this.velocity,\r\n            ),\r\n        );\r\n    }\r\n\r\n    applyFill() {\r\n        context.fillStyle = this.color;\r\n        context.fill();\r\n    }\r\n\r\n    applyStroke() {\r\n        context.strokeStyle = this.color;\r\n        context.stroke();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/abstract/weapon.js","import Particle from './particle';\r\n\r\nexport default class Bullet extends Particle {\r\n    constructor(id, x, y, speed, radius, angle, velocity, damage) {\r\n        super(id, x, y, speed, radius, angle);\r\n        this._damage = damage;\r\n        this.velocity.addTo(velocity);\r\n    }\r\n\r\n    get damage() {\r\n        return this._damage;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/abstract/bullet.js","import { canvasHeight, canvasWidth } from './constants';\r\n\r\nexport function isOffCanvas(particle) {\r\n    return (\r\n        particle.position.x > (canvasWidth + particle.radius) ||\r\n        particle.position.x < (0 - particle.radius) ||\r\n        particle.position.y > (canvasHeight + particle.radius) ||\r\n        particle.position.y < (0 - particle.radius)\r\n    );\r\n}\r\n\r\nexport function returnToCanvas(drone) {\r\n    if(drone.position.x > canvasWidth) {\r\n        drone.position.x = 0;\r\n    }\r\n    if(drone.position.x < 0) {\r\n        drone.position.x = canvasWidth;\r\n    }\r\n    if(drone.position.y > canvasHeight) {\r\n        drone.position.y = 0;\r\n    }\r\n    if(drone.position.y < 0) {\r\n        drone.position.y = canvasHeight;\r\n    }\r\n}\r\n\r\nexport function distanceTo(p1, p2) {\r\n    const dx = p2.position.x - p1.position.x,\r\n        dy = p2.position.y - p1.position.y;\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\n\r\nexport function didCollide(p1, p2) {\r\n    return !(p1.id === p2.id) && distanceTo(p1, p2) < p1.radius + p2.radius;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/functions.js","import { context } from './constants';\r\nimport Vector from './service/vector';\r\nimport Particle from './abstract/particle';\r\n\r\nexport default class Drone extends Particle {\r\n    constructor(id, color, x, y, speed, angle, weapon, gimbal, scanner) {\r\n        super(id, x, y, speed, 10, angle);\r\n        this.vector = new Vector(x, y);\r\n        this.vector.setAngle(angle);\r\n        this.weapon = new weapon(id, x, y, angle, gimbal);\r\n        this._health = 10;\r\n        this.color = color;\r\n        this.scanner = scanner;\r\n\r\n    }\r\n\r\n    get health() {\r\n        return this._health;\r\n    }\r\n\r\n    takeDamage(damage) {\r\n        this._health -= damage;\r\n    }\r\n\r\n    update() {\r\n        this.scanner.findTarget(this);\r\n        const targetAngle = this.scanner.angleToTarget();\r\n        if(targetAngle > 0.1) {\r\n            this.vector.setAngle(this.vector.getAngle() + 0.02);\r\n        } else if(targetAngle < -0.1) {\r\n            this.vector.setAngle(this.vector.getAngle() - 0.02);\r\n        } else {\r\n            this.vector.setAngle(this.vector.getAngle() + Math.random() * 0.06 - 0.03);\r\n        }\r\n        this.velocity.setAngle(this.vector.getAngle());\r\n        this.move();\r\n        this.weapon.update(this.position, this.vector, this.velocity, this.scanner);\r\n    }\r\n\r\n    draw() {\r\n        context.translate(this.position.x, this.position.y);\r\n        context.rotate(this.vector.getAngle());\r\n        context.beginPath();\r\n        context.moveTo(10, 0);\r\n        context.lineTo(-10, -7);\r\n        context.lineTo(-10, 7);\r\n        context.lineTo(10, 0);\r\n        context.strokeStyle = this.color;\r\n        context.stroke();\r\n        context.fillStyle = this.color;\r\n        context.fill();\r\n        context.resetTransform();\r\n        this.weapon.draw();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/drone.js","import { context, grid } from '../constants';\r\n\r\nimport Vector from '../service/vector';\r\nimport { deltaTime } from '../service/delta-time';\r\n\r\nexport default class Particle {\r\n    constructor(id, x, y, speed, radius, angle) {\r\n        this._id = id;\r\n        this.radius = radius;\r\n        this.position = new Vector(x, y);\r\n        this.velocity = new Vector(0, 0);\r\n        this.velocity.setLength(speed);\r\n        this.velocity.setAngle(angle);\r\n        this._remove = false;\r\n        this.color = '#000';\r\n    }\r\n\r\n    get remove() {\r\n        return this._remove;\r\n    }\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    update() {\r\n        this.move();\r\n    }\r\n\r\n    move() {\r\n        let distanceByDeltaTime = this.velocity.multiply(deltaTime.getTime());\r\n        const gridX = Math.floor(this.position.x / grid.gridBlockSize);\r\n        const gridY = Math.floor(this.position.y / grid.gridBlockSize);\r\n        grid.removeParticle(this, gridX, gridY);\r\n        this.position.addTo(distanceByDeltaTime);\r\n        grid.addParticle(this, gridX, gridY);\r\n    }\r\n\r\n    removeParticle() {\r\n        this._remove = true;\r\n        grid.removeParticle(this);\r\n    }\r\n\r\n    draw() {\r\n        context.beginPath();\r\n        context.arc(\r\n            this.position.x,\r\n            this.position.y,\r\n            this.radius,\r\n            0,\r\n            2 * Math.PI);\r\n        context.strokeStyle = this.color;\r\n        context.stroke();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/abstract/particle.js","import { canvasHeight, canvasWidth, context, dm, pm } from './constants';\r\nimport { deltaTime } from './service/delta-time';\r\nimport Drone from './drone';\r\nimport Shotgun from './weapon/shotgun';\r\nimport Uzi from './weapon/uzi';\r\nimport Rifle from './weapon/rifle';\r\nimport Gimbal from './utility/gimbal';\r\nimport Scanner from './abstract/scanner';\r\n\r\nfor(let i = 0; i < 5; i++) {\r\n\r\n    const gimbalOne = new Gimbal(0, 0);\r\n    const gimbalTwo = new Gimbal(0.2, 0.01);\r\n    const gimbalThree = new Gimbal(0.4, 0.01);\r\n\r\n    const scannerOne = new Scanner(500);\r\n    const scannerTwo = new Scanner(700);\r\n    const scannerThree = new Scanner(800);\r\n\r\n    const droneOne = new Drone(1, '#777', Math.random() *\r\n        canvasWidth, Math.random() *\r\n        canvasHeight, 12, Math.random() * Math.PI * 2, Shotgun, gimbalOne,\r\n        scannerOne);\r\n    const droneTwo = new Drone(2, '#444', Math.random() *\r\n        canvasWidth, Math.random() *\r\n        canvasHeight, 17, Math.random() * Math.PI * 2, Uzi, gimbalTwo,\r\n        scannerTwo);\r\n    const droneThree = new Drone(3, '#222', Math.random() *\r\n        canvasWidth, Math.random() *\r\n        canvasHeight, 15, Math.random() * Math.PI * 2, Rifle, gimbalThree,\r\n        scannerThree);\r\n\r\n    dm.addDrone(droneOne);\r\n    dm.addDrone(droneTwo);\r\n    dm.addDrone(droneThree);\r\n}\r\n\r\nlet fpsInterval, startTime, now, then, elapsed;\r\n\r\nstartAnimating(30);\r\n\r\nfunction startAnimating(fps) {\r\n    fpsInterval = 1000 / fps;\r\n    then = Date.now();\r\n    startTime = then;\r\n    animate();\r\n}\r\n\r\nfunction animate() {\r\n    context.clearRect(0, 0, canvasWidth, canvasHeight);\r\n    context.fillStyle = '#FFD700';\r\n    context.fillRect(0, 0, canvasWidth, canvasHeight);\r\n    deltaTime.update();\r\n    dm.update();\r\n    pm.update();\r\n    requestAnimationFrame(animate);\r\n    now = Date.now();\r\n    elapsed = now - then;\r\n    if(elapsed > fpsInterval) {\r\n        then = now - (elapsed % fpsInterval);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { didCollide, isOffCanvas } from '../functions';\r\nimport { dm } from '../constants';\r\n\r\nexport default class ParticleManager {\r\n    constructor() {\r\n        this.particles = [];\r\n    }\r\n\r\n    addParticle(particle) {\r\n        this.particles.push(particle);\r\n    }\r\n\r\n    update() {\r\n        this.particles = this.particles\r\n            .map(p => {\r\n                p.draw();\r\n                p.update();\r\n                this.collisionDetection(p);\r\n                return p;\r\n            })\r\n            .filter(p => !p.remove && !isOffCanvas(p));\r\n    }\r\n\r\n    collisionDetection(p) {\r\n        dm.drones.map((d) => {\r\n            if(didCollide(p, d)) {\r\n                d.takeDamage(p.damage);\r\n                p.removeParticle();\r\n                // dm.drones.map((d) => console.log(d.id + ': ' + d.health));\r\n            }\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/particle-manager.js","import { returnToCanvas } from '../functions';\r\n\r\nexport default class DroneManager {\r\n\r\n    constructor() {\r\n        this._drones = [];\r\n    }\r\n\r\n    get drones() {\r\n        return this._drones;\r\n    }\r\n\r\n    addDrone(drone) {\r\n        this._drones.push(drone);\r\n    }\r\n\r\n    update() {\r\n        this._drones = this._drones.map(d => {\r\n            d.draw();\r\n            d.update();\r\n            returnToCanvas(d);\r\n            return d;\r\n        }).filter((d) => d.health > 0);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/drone-manager.js","import {canvasWidth} from './constants';\r\n\r\nexport default class GameGrid {\r\n    constructor() {\r\n        this._gridBlockSize = 100;\r\n        this._rows = Math.floor(canvasWidth / this._gridBlockSize);\r\n        this._columns = Math.floor(canvasWidth / this._gridBlockSize);\r\n        this._grid = new Array(this._rows);\r\n        for (let i = 0; i < this._grid.length; i++) {\r\n            this._grid[i] = new Array(this._columns);\r\n            for (let j = 0; j < this._grid.length; j++) {\r\n                this._grid[i][j] = [];\r\n            }\r\n        }\r\n    }\r\n\r\n    get gridBlockSize() {\r\n        return this._gridBlockSize;\r\n    }\r\n\r\n    get columns() {\r\n        return this._columns;\r\n    }\r\n\r\n    get rows() {\r\n        return this._rows;\r\n    }\r\n\r\n    get grid() {\r\n        return this._grid;\r\n    }\r\n\r\n    gridHasKeys(x, y) {\r\n        return x >= 0 && x < this._rows && y >= 0 && y < this._columns;\r\n    }\r\n\r\n    addParticle(particle, x, y) {\r\n        if (!this.gridHasKeys(x, y)) {\r\n            return;\r\n        }\r\n        this._grid[x][y].push(particle);\r\n    }\r\n\r\n    removeParticle(particle, x, y) {\r\n        if (!this.gridHasKeys(x, y)) {\r\n            return;\r\n        }\r\n        this._grid[x][y] = this._grid[x][y].filter((p) => p.id !== particle.id);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/game-grid.js","export default class Point {\r\n    constructor(x, y) {\r\n        this._x = x;\r\n        this._y = y;\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value) {\r\n        this._x = value;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value) {\r\n        this._y = value;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/point.js","import Weapon from '../abstract/weapon';\r\nimport { context, pm } from '../constants';\r\nimport Shot from '../ammo/shot';\r\n\r\nexport default class Shotgun extends Weapon {\r\n    constructor(id, x, y, angle, gimbal) {\r\n        const fireRate = 11;\r\n        const round = Shot;\r\n        super(id, '#664', x, y, angle, gimbal, round, fireRate);\r\n    }\r\n\r\n    draw() {\r\n        context.translate(this.position.x, this.position.y);\r\n        context.rotate(this.gimbal.vector.getAngle() + this.droneAngle);\r\n        context.beginPath();\r\n        context.lineTo(8, -2);\r\n        context.lineTo(8, 2);\r\n        context.lineTo(0, 2);\r\n        context.lineTo(0, -2);\r\n        this.applyStroke();\r\n        this.applyFill();\r\n        context.resetTransform();\r\n    }\r\n\r\n    fire() {\r\n        for(let i = 0; i < 12; i++) {\r\n            const scatter = Math.random() * 0.08 - 0.04;\r\n            pm.addParticle(\r\n                new this.round(\r\n                    this.id,\r\n                    this.position.x,\r\n                    this.position.y,\r\n                    this.gimbal.vector.getAngle() + this.droneAngle + scatter,\r\n                    this.velocity,\r\n                ),\r\n            );\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/weapon/shotgun.js","import Bullet from '../abstract/bullet';\r\n\r\nexport default class Shot extends Bullet {\r\n    constructor(id, x, y, angle, velocity) {\r\n        super(id, x, y, 40, 0.5, angle, velocity, 1);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ammo/shot.js","import Weapon from '../abstract/weapon';\r\nimport NineMM from '../ammo/nine-mm';\r\nimport { context } from '../constants';\r\n\r\nexport default class Uzi extends Weapon {\r\n    constructor(id, x, y, angle, gimbal) {\r\n        const fireRate = 3;\r\n        const round = NineMM;\r\n        super(id, '#8aa', x, y, angle, gimbal, round, fireRate);\r\n    }\r\n\r\n    draw() {\r\n        context.translate(this.position.x, this.position.y);\r\n        context.rotate(this.gimbal.vector.getAngle() + this.droneAngle);\r\n        context.beginPath();\r\n        context.lineTo(6, -1);\r\n        context.lineTo(6, 1);\r\n        context.lineTo(0, 1);\r\n        context.lineTo(0, -1);\r\n        this.applyStroke();\r\n        this.applyFill();\r\n        context.resetTransform();\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/weapon/uzi.js","import Bullet from '../abstract/bullet';\r\n\r\nexport default class NineMM extends Bullet {\r\n    constructor(id, x, y, angle, velocity) {\r\n        super(id, x, y, 45, 1, angle, velocity, 2);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ammo/nine-mm.js","import Weapon from '../abstract/weapon';\r\nimport { context } from '../constants';\r\nimport SevenSixTwoMM from '../ammo/seven-six-two-mm';\r\n\r\nexport default class Rifle extends Weapon {\r\n    constructor(id, x, y, angle, gimbal) {\r\n        const fireRate = 9;\r\n        const round = SevenSixTwoMM;\r\n        super(id, '#577', x, y, angle, gimbal, round, fireRate);\r\n    }\r\n\r\n    draw() {\r\n        context.translate(this.position.x, this.position.y);\r\n        context.rotate(this.gimbal.vector.getAngle() + this.droneAngle);\r\n        context.beginPath();\r\n        context.lineTo(10, -2);\r\n        context.lineTo(10, 2);\r\n        context.lineTo(0, 2);\r\n        context.lineTo(0, -2);\r\n        this.applyStroke();\r\n        this.applyFill();\r\n        context.resetTransform();\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/weapon/rifle.js","import Bullet from '../abstract/bullet';\r\n\r\nexport default class SevenSixTwoMM extends Bullet {\r\n    constructor(id, x, y, angle, velocity) {\r\n        super(id, x, y, 50, 2, angle, velocity, 17);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ammo/seven-six-two-mm.js","import Vector from '../service/vector';\r\n\r\nexport default class Gimbal {\r\n    constructor(angleLimit, turningSpeed) {\r\n        this.vector = new Vector(0, 0);\r\n        this.vector.setAngle(0);\r\n        this.vector.setLength(5);\r\n        this.rotation = 'right';\r\n        this.angleLimit = angleLimit;\r\n        this.turningSpeed = turningSpeed;\r\n    }\r\n\r\n    update() {\r\n        switch(true) {\r\n            case this.rotation === 'right' &&\r\n            this.vector.getAngle() < this.angleLimit:\r\n                this.vector.setAngle(this.vector.getAngle() +\r\n                    this.turningSpeed);\r\n                break;\r\n            case this.rotation === 'left' &&\r\n            this.vector.getAngle() > -this.angleLimit:\r\n                this.vector.setAngle(this.vector.getAngle() -\r\n                    this.turningSpeed);\r\n                break;\r\n            case this.rotation === 'right' &&\r\n            this.vector.getAngle() > this.angleLimit:\r\n                this.rotation = 'left';\r\n                break;\r\n            case this.rotation === 'left' &&\r\n            this.vector.getAngle() < -this.angleLimit:\r\n                this.rotation = 'right';\r\n                break;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utility/gimbal.js","import { grid } from '../constants';\r\nimport Drone from '../drone';\r\n\r\nexport default class Scanner {\r\n\r\n    constructor(radius) {\r\n        this.radius = radius;\r\n        this.target = null;\r\n        this._drone = null;\r\n    }\r\n\r\n    hasTarget() {\r\n        return this.target !== null;\r\n    }\r\n\r\n    findTarget(drone) {\r\n        this._drone = drone;\r\n        this.target = null;\r\n        let nearestTarget = {target: null, distance: null};\r\n        this.findGridRange();\r\n        this.forceRangeToGridRowsColumns();\r\n        for(let i = this.gridRange.start[0]; i < this.gridRange.end[0]; i++) {\r\n            for(let j = this.gridRange.start[1]; j <\r\n            this.gridRange.end[1]; j++) {\r\n                grid.grid[i][j].map((item) => {\r\n                    if(!(item instanceof Drone) || item.id === drone.id) {\r\n                        return;\r\n                    }\r\n                    const distanceTo = this.distanceToTarget(item);\r\n                    if(nearestTarget.distance === null ||\r\n                        nearestTarget.distance > distanceTo) {\r\n                        nearestTarget.target = item;\r\n                        nearestTarget.distance = distanceTo;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        this.target = nearestTarget.target;\r\n    }\r\n\r\n    forceRangeToGridRowsColumns() {\r\n        if(this.gridRange.start[0] < 0) {\r\n            this.gridRange.start[0] = 0;\r\n        }\r\n        if(this.gridRange.start[1] < 0) {\r\n            this.gridRange.start[1] = 0;\r\n        }\r\n        if(this.gridRange.end[0] > grid.rows) {\r\n            this.gridRange.end[0] = grid.rows;\r\n        }\r\n        if(this.gridRange.end[1] > grid.columns) {\r\n            this.gridRange.end[1] = grid.columns;\r\n        }\r\n    }\r\n\r\n    angleToTarget() {\r\n        if(this.hasTarget()) {\r\n            return Math.atan2(\r\n                this.target.position.y - this._drone.position.y,\r\n                this.target.position.x - this._drone.position.x,\r\n            );\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    distanceToTarget(droneTwo) {\r\n        const dx = droneTwo.position.x - this._drone.position.x,\r\n            dy = droneTwo.position.y - this._drone.position.y;\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n\r\n    findGridRange() {\r\n        const x = this._drone.position.x;\r\n        const y = this._drone.position.y;\r\n        this.gridRange = {\r\n            start: [\r\n                Math.floor((x - this.radius) /  grid.gridBlockSize) - 1,\r\n                Math.floor((y - this.radius) /  grid.gridBlockSize) - 1],\r\n            end: [\r\n                Math.round((x + this.radius) /  grid.gridBlockSize) + 1,\r\n                Math.round((y + this.radius) /  grid.gridBlockSize) + 1],\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/abstract/scanner.js"],"sourceRoot":""}